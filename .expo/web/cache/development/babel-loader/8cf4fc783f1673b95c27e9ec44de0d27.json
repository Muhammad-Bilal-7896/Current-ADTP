{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { Entypo } from '@expo/vector-icons';\nimport { AntDesign } from '@expo/vector-icons';\nimport { ProgressBar, Colors } from 'react-native-paper';\nimport Picker from \"react-native-web/dist/exports/Picker\";\nimport * as Device from 'expo-device';\nimport alt from \"../assets/alter.png\";\nimport * as ImagePicker from 'expo-image-picker';\nimport \"firebase/storage\";\nimport firebase from \"../database/firebaseDb\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar picker_Items = [{\n  label: \"Company 1\",\n  value: 1\n}, {\n  label: \"Company 2\",\n  value: 2\n}, {\n  label: \"Company 3\",\n  value: 3\n}, {\n  label: \"Company 4\",\n  value: 4\n}, {\n  label: \"Company 5\",\n  value: 5\n}, {\n  label: \"Company 6\",\n  value: 6\n}, {\n  label: \"Company 7\",\n  value: 7\n}, {\n  label: \"Company 8\",\n  value: 8\n}, {\n  label: \"Company 9\",\n  value: 9\n}, {\n  label: \"Company 10\",\n  value: 10\n}, {\n  label: \"Other\",\n  value: 11\n}];\n\nfunction AddUserScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var _useState3 = useState(picker_Items),\n      _useState4 = _slicedToArray(_useState3, 2),\n      pickerItems = _useState4[0],\n      setPickerItems = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      visibility = _useState6[0],\n      setVisibility = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      imageUri = _useState8[0],\n      setImageUri = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      uploading = _useState10[0],\n      setUploading = _useState10[1];\n\n  var _useState11 = useState(null),\n      _useState12 = _slicedToArray(_useState11, 2),\n      download_url = _useState12[0],\n      setDownloadUrl = _useState12[1];\n\n  var device_name = Device.osName;\n\n  var _useState13 = useState(''),\n      _useState14 = _slicedToArray(_useState13, 2),\n      agency = _useState14[0],\n      setAgency = _useState14[1];\n\n  var _useState15 = useState(''),\n      _useState16 = _slicedToArray(_useState15, 2),\n      brand = _useState16[0],\n      setBrand = _useState16[1];\n\n  var _useState17 = useState(''),\n      _useState18 = _slicedToArray(_useState17, 2),\n      representative_name = _useState18[0],\n      setRepresentative_name = _useState18[1];\n\n  var _useState19 = useState(''),\n      _useState20 = _slicedToArray(_useState19, 2),\n      image = _useState20[0],\n      setImage = _useState20[1];\n\n  var _useState21 = useState(1),\n      _useState22 = _slicedToArray(_useState21, 2),\n      picked = _useState22[0],\n      setPicked = _useState22[1];\n\n  var _useState23 = useState(''),\n      _useState24 = _slicedToArray(_useState23, 2),\n      pickedValue = _useState24[0],\n      setPickedValue = _useState24[1];\n\n  var _useState25 = useState(0),\n      _useState26 = _slicedToArray(_useState25, 2),\n      selected_brand_count = _useState26[0],\n      set_selected_brand_count = _useState26[1];\n\n  var _useState27 = useState([]),\n      _useState28 = _slicedToArray(_useState27, 2),\n      firestoreData = _useState28[0],\n      setFirestoreData = _useState28[1];\n\n  var _useState29 = useState(false),\n      _useState30 = _slicedToArray(_useState29, 2),\n      showAgencyAdd = _useState30[0],\n      setShowAgencyAdd = _useState30[1];\n\n  var _useState31 = useState(false),\n      _useState32 = _slicedToArray(_useState31, 2),\n      addCount = _useState32[0],\n      setAddCount = _useState32[1];\n\n  useEffect(function () {\n    (function _callee() {\n      var _await$ImagePicker$re, status;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(Platform.Os != \"web\")) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(ImagePicker.requestMediaLibraryPermissionsAsync());\n\n            case 3:\n              _await$ImagePicker$re = _context.sent;\n              status = _await$ImagePicker$re.status;\n\n              if (status !== 'granted') {\n                alert(\"Sorry, we need camera permissions to make this work!\");\n              }\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    })();\n  }, []);\n  useEffect(function () {\n    if (pickedValue != '') {\n      var count = 0;\n\n      for (var i = 0; i < firestoreData.length; i++) {\n        if (firestoreData[i].Agency == pickedValue) {\n          count = count + 1;\n        }\n      }\n\n      console.log(\"The slected agency '\" + pickedValue + \"' had appeared \\\"\" + count + \"\\\" number of times previously\");\n      console.log(\"----------?\" + count);\n      set_selected_brand_count(count);\n    }\n\n    if (isLoading) {\n      return _jsx(View, {\n        style: styles.preloader,\n        children: _jsx(ActivityIndicator, {\n          size: \"large\",\n          color: \"#9E9E9E\"\n        })\n      });\n    }\n\n    for (var _i = 0; _i < pickerItems.length; _i++) {\n      if (pickerItems[_i].value == picked) {\n        if (pickerItems[_i].label == \"Other\") {}\n\n        setPickedValue(pickerItems[_i].label);\n      }\n    }\n\n    if (true) {\n      var db = firebase.firestore();\n      db.collection(\"agencies\").get().then(function (snapshot) {\n        var data = [];\n        snapshot.forEach(function (element) {\n          data.push(_extends({\n            id: element.id,\n            \"Agency\": element.Agency,\n            \"Brand\": element.Brand,\n            \"Representative_name\": element.Representative_name,\n            \"Image\": element.Image\n          }, element.data()));\n        });\n\n        if (firestoreData.length != data.length) {\n          setFirestoreData(data);\n        }\n      }).catch(function (err) {\n        console.log(\"Firebase data error ==> \", err);\n      });\n    }\n  });\n\n  var pickImage = function pickImage() {\n    var result, blob, ref, snapshot;\n    return _regeneratorRuntime.async(function pickImage$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n              mediaTypes: ImagePicker.MediaTypeOptions.All,\n              allowsEditing: true,\n              aspect: [4, 3],\n              quality: 1\n            }));\n\n          case 2:\n            result = _context2.sent;\n            console.log(\"Result of Image ==> \", result);\n\n            if (result.cancelled) {\n              _context2.next = 13;\n              break;\n            }\n\n            if (!(result.uri != null)) {\n              _context2.next = 12;\n              break;\n            }\n\n            _context2.next = 8;\n            return _regeneratorRuntime.awrap(new Promise(function (resolve, reject) {\n              var xhr = new XMLHttpRequest();\n\n              xhr.onload = function () {\n                resolve(xhr.response);\n              };\n\n              xhr.onerror = function () {\n                reject(new TypeError('Network request failed'));\n              };\n\n              xhr.responseType = 'blob';\n              xhr.open('GET', result.uri, true);\n              xhr.send(null);\n            }));\n\n          case 8:\n            blob = _context2.sent;\n            ref = firebase.storage().ref().child(new Date().toISOString());\n            snapshot = ref.put(blob);\n            uploadTask.on('state_changed', function (snapshot) {\n              setUploading(true);\n              var progress = snapshot.bytesTransferred / snapshot.totalBytes * 100;\n              console.log('Upload is ' + progress + '% done');\n\n              switch (snapshot.state) {\n                case firebase.storage.TaskState.PAUSED:\n                  console.log('Upload is paused');\n                  break;\n\n                case firebase.storage.TaskState.RUNNING:\n                  console.log('Upload is running');\n                  break;\n              }\n            }, function (error) {}, function () {\n              uploadTask.snapshot.ref.getDownloadURL().then(function (url) {\n                console.log('File available at', durl);\n                setUploading(false);\n                alert(\"Image Uploaded\");\n                setDownloadUrl(url);\n              });\n            });\n\n          case 12:\n            setImageUri(result.uri);\n\n          case 13:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var addAgency = function addAgency() {\n    if (agency != '') {\n      var length = pickerItems.length;\n      setPickerItems([].concat(_toConsumableArray(pickerItems), [{\n        label: agency,\n        value: length + 1\n      }]));\n      setShowAgencyAdd(false);\n      alert(\"Agency Added\");\n    } else {\n      alert(\"Please enter an agency name to add it to the list.\");\n    }\n  };\n\n  var storeUser = function storeUser() {\n    if (pickedValue === '' || brand === '' || representative_name === '' || imageUri === '') {\n      alert('Fill all the fields!');\n    } else {\n      setIsLoading(true);\n      var dbRef = firebase.firestore().collection('agencies');\n      var count = selected_brand_count + 1;\n      dbRef.add({\n        Agency: pickedValue,\n        Brand: brand,\n        Representative_name: representative_name,\n        Image: \"imageUri\",\n        Count: count\n      }).then(function (res) {\n        setVisibility(true);\n        setPickedValue('');\n        setBrand('');\n        setAgency('');\n        setPicked(1);\n        setRepresentative_name('');\n        set_selected_brand_count(0);\n        setIsLoading(false);\n        setImageUri('');\n        setTimeout(function () {\n          navigation.push('UserScreen');\n        }, 2000);\n        setTimeout(function () {\n          setVisibility(false);\n        }, 4000);\n      }).catch(function (err) {\n        console.error(\"Error found: \", err);\n        setIsLoading(false);\n      });\n    }\n  };\n\n  var uploadImage = function uploadImage() {\n    var blob, ref, snapshot;\n    return _regeneratorRuntime.async(function uploadImage$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            if (!(imageUri != null)) {\n              _context3.next = 9;\n              break;\n            }\n\n            _context3.next = 3;\n            return _regeneratorRuntime.awrap(new Promise(function (resolve, reject) {\n              var xhr = new XMLHttpRequest();\n\n              xhr.onload = function () {\n                resolve(xhr.response);\n              };\n\n              xhr.onerror = function () {\n                reject(new TypeError('Network request failed'));\n              };\n\n              xhr.responseType = 'blob';\n              xhr.open('GET', imageUri, true);\n              xhr.send(null);\n            }));\n\n          case 3:\n            blob = _context3.sent;\n            ref = firebase.storage().ref().child(new Date().toISOString());\n            snapshot = ref.put(blob);\n            snapshot.on(firebase.storage.TaskEvent.STATE_CHANGED, function () {\n              setUploading(true);\n            }, function (err) {\n              setUploading(false);\n              console.log(err);\n              return;\n            }, function () {\n              snapshot.snapshot.ref.getDownloadURL().then(function (url) {\n                setUploading(false);\n                alert(\"Image Uploaded\");\n                console.log(\"Download Url==> \", url);\n                setDownloadUrl(url);\n                return url;\n              });\n            });\n            _context3.next = 10;\n            break;\n\n          case 9:\n            alert(\"Please Choose an Image First\");\n\n          case 10:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return _jsxs(ScrollView, {\n    style: styles.container,\n    children: [visibility ? _jsxs(View, {\n      style: styles.snackBar,\n      children: [_jsx(View, {\n        style: styles.IconContainer,\n        children: _jsx(AntDesign, {\n          name: \"delete\",\n          size: 23,\n          style: {\n            lineHeight: 40\n          },\n          color: \"#ffffff\"\n        })\n      }), _jsx(Text, {\n        style: styles.snack_txt,\n        children: \"Agency was added to the list\"\n      })]\n    }) : _jsx(_Fragment, {}), device_name == \"iOS\" ? _jsxs(View, {\n      style: styles.inputGroupTop,\n      children: [_jsx(Text, {\n        style: styles.labelTop,\n        children: \"Agency name\"\n      }), _jsx(Picker, {\n        selectedValue: picked,\n        style: styles.picker,\n        onValueChange: function onValueChange(itemValue, itemIndex) {\n          setPicked(itemValue);\n          setAddCount(true);\n        },\n        children: pickerItems.map(function (v, i) {\n          return _jsx(Picker.Item, {\n            label: v.label,\n            value: v.value\n          }, i);\n        })\n      })]\n    }) : _jsxs(View, {\n      style: styles.inputGroupTop,\n      children: [_jsx(Text, {\n        style: styles.labelTop,\n        children: \"Agency name\"\n      }), _jsx(Picker, {\n        selectedValue: picked,\n        style: styles.picker,\n        onValueChange: function onValueChange(itemValue, itemIndex) {\n          setPicked(itemValue);\n          setAddCount(true);\n        },\n        children: pickerItems.map(function (v, i) {\n          return _jsx(Picker.Item, {\n            label: v.label,\n            value: v.value\n          }, i);\n        })\n      })]\n    }), showAgencyAdd ? _jsxs(View, {\n      children: [_jsx(View, {\n        style: styles.inputGroup,\n        children: _jsxs(View, {\n          children: [_jsx(Text, {\n            style: styles.label,\n            children: \"Add New\"\n          }), _jsx(TextInput, {\n            style: styles.inputtxt,\n            placeholder: 'Agency name',\n            value: agency,\n            onChangeText: function onChangeText(val) {\n              return setAgency(val);\n            }\n          })]\n        })\n      }), _jsx(View, {\n        style: styles.add_main_container,\n        children: _jsxs(TouchableOpacity, {\n          style: styles.container_button,\n          onPress: addAgency,\n          children: [_jsx(View, {\n            style: styles.IconContainer,\n            children: _jsx(Entypo, {\n              name: \"add-to-list\",\n              size: 23,\n              style: {\n                lineHeight: 40\n              },\n              color: \"#60AD7F\"\n            })\n          }), _jsx(Text, {\n            style: styles.add_button_txt,\n            children: \"Add Agency\"\n          })]\n        })\n      })]\n    }) : _jsx(_Fragment, {}), _jsxs(View, {\n      style: styles.inputGroup,\n      children: [_jsx(Text, {\n        style: styles.label,\n        children: \"Brand\"\n      }), _jsx(TextInput, {\n        style: styles.inputtxt,\n        placeholder: 'Brand name',\n        value: brand,\n        onChangeText: function onChangeText(val) {\n          return setBrand(val);\n        }\n      })]\n    }), _jsxs(View, {\n      style: styles.inputGroup,\n      children: [_jsx(Text, {\n        style: styles.label,\n        children: \"Repersentative Name\"\n      }), _jsx(TextInput, {\n        style: styles.inputtxt,\n        placeholder: 'First & last name',\n        value: representative_name,\n        onChangeText: function onChangeText(val) {\n          return setRepresentative_name(val);\n        }\n      })]\n    }), _jsxs(View, {\n      style: styles.inputGroup,\n      children: [_jsx(Text, {\n        style: styles.label,\n        children: \"Image\"\n      }), _jsx(TouchableOpacity, {\n        style: styles.inputtxt,\n        onPress: pickImage,\n        children: _jsx(Text, {\n          children: \"Pick an image from camera roll\"\n        })\n      })]\n    }), _jsx(ProgressBar, {\n      style: {\n        marginTop: 10,\n        marginBottom: 20,\n        borderRadius: 10,\n        width: \"100%\",\n        height: 15\n      },\n      progress: 0.5,\n      color: \"#7db597\"\n    }), _jsx(View, {\n      style: styles.ImageContainer,\n      children: imageUri == null ? _jsx(Image, {\n        source: alt,\n        style: {\n          width: \"95%\",\n          height: 200,\n          borderRadius: 10\n        }\n      }) : download_url == null ? _jsxs(View, {\n        children: [_jsx(Text, {\n          style: {\n            color: \"#f0ad4e\"\n          },\n          children: \"The Image Preview is Local\"\n        }), _jsx(Image, {\n          source: {\n            uri: imageUri\n          },\n          style: {\n            width: \"90%\",\n            height: 200,\n            borderRadius: 10\n          }\n        })]\n      }) : _jsxs(View, {\n        children: [_jsx(Text, {\n          style: {\n            color: \"#5cb85c\"\n          },\n          children: \"The Image Preview is From Cloud\"\n        }), _jsx(Image, {\n          source: {\n            uri: download_url\n          },\n          style: {\n            width: \"90%\",\n            height: 200,\n            borderRadius: 10\n          }\n        })]\n      })\n    }), _jsx(View, {\n      style: styles.buttons_main_container,\n      children: _jsxs(TouchableOpacity, {\n        style: styles.container_button,\n        onPress: storeUser,\n        children: [_jsx(View, {\n          style: styles.IconContainer,\n          children: _jsx(Entypo, {\n            name: \"save\",\n            size: 23,\n            style: {\n              lineHeight: 40\n            },\n            color: \"#60AD7F\"\n          })\n        }), _jsx(Text, {\n          style: styles.save_button_txt,\n          children: \"SAVE\"\n        })]\n      })\n    })]\n  });\n}\n\nvar styles = StyleSheet.create({\n  ImageContainer: {\n    alignItems: \"center\"\n  },\n  snackBar: {\n    borderWidth: 0.5,\n    borderColor: \"#60AD7F\",\n    backgroundColor: \"#60AD7F\",\n    flexDirection: \"row\",\n    flex: 1,\n    alignItems: \"center\",\n    position: \"absolute\",\n    height: 54,\n    width: \"90%\",\n    zIndex: 2,\n    shadowColor: \"rgba(32, 32, 32, 0.08)\",\n    shadowRadius: \"0px 9.75px 9.75px -7.3125px\",\n    borderRadius: 3.25,\n    left: \"5%\",\n    top: 75\n  },\n  IconContainer: {\n    width: \"10%\",\n    alignItems: \"center\"\n  },\n  container_button: {\n    marginTop: 20,\n    borderColor: \"rgba(0, 0, 0, 0.12)\",\n    justifyContent: \"flex-start\",\n    borderWidth: 1,\n    height: 50,\n    width: \"100%\",\n    backgroundColor: \"rgba(255, 255, 255, 0.87)\",\n    borderRadius: 4,\n    flex: 1,\n    flexDirection: \"row\"\n  },\n  snack_txt: {\n    fontSize: 14,\n    color: \"#ffffff\",\n    width: \"90%\",\n    alignItems: \"left\",\n    textAlign: \"left\",\n    lineHeight: 40,\n    left: 37\n  },\n  delete_button_txt: {\n    fontSize: 14,\n    color: \"#000000\",\n    width: \"90%\",\n    alignItems: \"center\",\n    textAlign: \"center\",\n    lineHeight: 40\n  },\n  save_button_txt: {\n    fontSize: 14,\n    color: \"#60AD7F\",\n    width: \"90%\",\n    alignItems: \"center\",\n    textAlign: \"center\",\n    lineHeight: 40\n  },\n  add_button_txt: {\n    fontSize: 16,\n    color: \"#60AD7F\",\n    width: \"90%\",\n    alignItems: \"center\",\n    textAlign: \"center\",\n    lineHeight: 40\n  },\n  add_main_container: {\n    marginTop: -25,\n    marginBottom: 10\n  },\n  buttons_main_container: {\n    paddingTop: 0\n  },\n  container: {\n    padding: 10,\n    backgroundColor: '#ffffff'\n  },\n  inputtxt: {\n    fontSize: 16,\n    color: \"rgba(0, 0, 0, 0.87);\",\n    paddingTop: 0\n  },\n  labelTop: {\n    fontSize: 12,\n    color: \"#60AD7F\"\n  },\n  label: {\n    fontSize: 12,\n    color: \"rgba(0, 0, 0, 0.38);\"\n  },\n  picker: {\n    width: \"100%\",\n    color: \"black\",\n    zIndex: 1000,\n    marginTop: 4,\n    borderBottomWidth: 1,\n    borderBottomColor: '#65a984',\n    backgroundColor: '#ededed'\n  },\n  label_txt: {\n    fontSize: 16,\n    color: \"rgba(0, 0, 0, 0.87)\"\n  },\n  inputGroup: {\n    flex: 1,\n    height: 56,\n    padding: 10,\n    marginBottom: 15,\n    borderBottomWidth: 1,\n    borderBottomColor: '#65a984',\n    backgroundColor: '#ededed'\n  },\n  inputGroupTop: {\n    height: 60,\n    padding: 10,\n    marginTop: 30,\n    marginBottom: 15,\n    borderBottomWidth: 1,\n    borderBottomColor: '#65a984',\n    backgroundColor: '#ededed',\n    zIndex: 1\n  },\n  preloader: {\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    position: 'absolute',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  button: {\n    alignItems: 'center',\n    color: '#6fa686',\n    backgroundColor: '#ffffff',\n    padding: 10,\n    borderWidth: 1,\n    borderColor: '#e9e9e9'\n  },\n  buttonInner: {\n    padding: 10\n  }\n});\nexport default AddUserScreen;","map":{"version":3,"sources":["H:/ADTP App current/screens/AddUserScreen.jsx"],"names":["React","useState","useEffect","Entypo","AntDesign","ProgressBar","Colors","Device","alt","ImagePicker","firebase","picker_Items","label","value","AddUserScreen","navigation","isLoading","setIsLoading","pickerItems","setPickerItems","visibility","setVisibility","imageUri","setImageUri","uploading","setUploading","download_url","setDownloadUrl","device_name","osName","agency","setAgency","brand","setBrand","representative_name","setRepresentative_name","image","setImage","picked","setPicked","pickedValue","setPickedValue","selected_brand_count","set_selected_brand_count","firestoreData","setFirestoreData","showAgencyAdd","setShowAgencyAdd","addCount","setAddCount","Platform","Os","requestMediaLibraryPermissionsAsync","status","alert","count","i","length","Agency","console","log","styles","preloader","db","firestore","collection","get","then","snapshot","data","forEach","element","push","id","Brand","Representative_name","Image","catch","err","pickImage","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","All","allowsEditing","aspect","quality","result","cancelled","uri","Promise","resolve","reject","xhr","XMLHttpRequest","onload","response","onerror","TypeError","responseType","open","send","blob","ref","storage","child","Date","toISOString","put","uploadTask","on","progress","bytesTransferred","totalBytes","state","TaskState","PAUSED","RUNNING","error","getDownloadURL","url","durl","addAgency","storeUser","dbRef","add","Count","res","setTimeout","uploadImage","TaskEvent","STATE_CHANGED","container","snackBar","IconContainer","lineHeight","snack_txt","inputGroupTop","labelTop","picker","itemValue","itemIndex","map","v","inputGroup","inputtxt","val","add_main_container","container_button","add_button_txt","marginTop","marginBottom","borderRadius","width","height","ImageContainer","color","buttons_main_container","save_button_txt","StyleSheet","create","alignItems","borderWidth","borderColor","backgroundColor","flexDirection","flex","position","zIndex","shadowColor","shadowRadius","left","top","justifyContent","fontSize","textAlign","delete_button_txt","paddingTop","padding","borderBottomWidth","borderBottomColor","label_txt","right","bottom","button","buttonInner"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  TouchableOpacity,\r\n  Text,\r\n  StyleSheet,\r\n  TextInput,\r\n  ScrollView,\r\n  ActivityIndicator,\r\n  View,\r\n  Button,\r\n  Image,\r\n  Platform\r\n} from 'react-native';\r\n//Importing the icon family\r\nimport { Entypo } from '@expo/vector-icons';\r\nimport { AntDesign } from '@expo/vector-icons';\r\n\r\nimport { ProgressBar, Colors } from 'react-native-paper';\r\n\r\n// Importing the react native drop down picker\r\nimport { Picker } from 'react-native'\r\n\r\n//Importing Device API to check the device type to render different content for android and ios\r\nimport * as Device from 'expo-device';\r\n\r\nimport alt from \"../assets/alter.png\";\r\n\r\n//Importing Image Picker \r\nimport * as ImagePicker from 'expo-image-picker';\r\n\r\nimport \"firebase/storage\";\r\n\r\nimport firebase from '../database/firebaseDb';\r\n\r\nlet picker_Items = [\r\n  {\r\n    label: \"Company 1\",\r\n    value: 1\r\n  },\r\n  {\r\n    label: \"Company 2\",\r\n    value: 2\r\n  },\r\n  {\r\n    label: \"Company 3\",\r\n    value: 3\r\n  },\r\n  {\r\n    label: \"Company 4\",\r\n    value: 4\r\n  },\r\n  {\r\n    label: \"Company 5\",\r\n    value: 5\r\n  },\r\n  {\r\n    label: \"Company 6\",\r\n    value: 6\r\n  },\r\n  {\r\n    label: \"Company 7\",\r\n    value: 7\r\n  },\r\n  {\r\n    label: \"Company 8\",\r\n    value: 8\r\n  },\r\n  {\r\n    label: \"Company 9\",\r\n    value: 9\r\n  },\r\n  {\r\n    label: \"Company 10\",\r\n    value: 10\r\n  },\r\n  {\r\n    label: \"Other\",\r\n    value: 11\r\n  }\r\n]\r\n\r\nfunction AddUserScreen({ navigation }) {\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const [pickerItems, setPickerItems] = useState(picker_Items);\r\n\r\n  const [visibility, setVisibility] = useState(false);\r\n\r\n  const [imageUri, setImageUri] = useState(null);\r\n\r\n  //When the uploading starts then it will be shown\r\n  const [uploading, setUploading] = useState(false);\r\n\r\n  const [download_url, setDownloadUrl] = useState(null);\r\n\r\n  const device_name = Device.osName;\r\n\r\n  const [agency, setAgency] = useState('');\r\n  const [brand, setBrand] = useState('');\r\n  const [representative_name, setRepresentative_name] = useState('');\r\n  const [image, setImage] = useState('')\r\n\r\n  const [picked, setPicked] = useState(1);\r\n  const [pickedValue, setPickedValue] = useState('');\r\n\r\n  const [selected_brand_count, set_selected_brand_count] = useState(0);\r\n\r\n  //For storing retrieved data\r\n  const [firestoreData, setFirestoreData] = useState([]);\r\n\r\n  //Show Agency Add\r\n  const [showAgencyAdd, setShowAgencyAdd] = useState(false);\r\n  const [addCount, setAddCount] = useState(false);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (Platform.Os != \"web\") {\r\n        const { status } = await ImagePicker.requestMediaLibraryPermissionsAsync();\r\n        if (status !== 'granted') {\r\n          alert(\"Sorry, we need camera permissions to make this work!\");\r\n        }\r\n      }\r\n    })();\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n\r\n    if (pickedValue != '') {\r\n      //For counting the number of times this Company has been choosen its count\r\n      let count = 0;\r\n      for (let i = 0; i < firestoreData.length; i++) {\r\n        if (firestoreData[i].Agency == pickedValue) {\r\n          count = count + 1;\r\n        }\r\n      }\r\n\r\n      //console.log(`The slected agency '${pickedValue}' had appeared \"${count}\" number of times previously`);\r\n      console.log(`The slected agency '${pickedValue}' had appeared \"${count}\" number of times previously`);\r\n      // if (addCount) {\r\n      console.log(\"----------?\" + count)\r\n      set_selected_brand_count(count);\r\n      // setAddCount(false);\r\n      //}\r\n      // setAddCount(false);\r\n      //For counting the number of times this Company has been choosen its count\r\n    }\r\n\r\n    if (isLoading) {\r\n      return (\r\n        <View style={styles.preloader}>\r\n          <ActivityIndicator size=\"large\" color=\"#9E9E9E\" />\r\n        </View>\r\n      )\r\n    }\r\n    for (let i = 0; i < pickerItems.length; i++) {\r\n      if (pickerItems[i].value == picked) {\r\n        //console.log(\"The Picked item label is ==> \", pickerItems[i].label);\r\n        if (pickerItems[i].label == \"Other\") {\r\n\r\n        }\r\n        setPickedValue(pickerItems[i].label);\r\n      }\r\n    }\r\n    // console.log(\"Agency name is : \", agency);\r\n    // console.log(\"Picker Items is ==> \", pickerItems);\r\n\r\n    // console.log(\"Data from firestore equals ==> \", firestoreData);\r\n\r\n    //Retrieving the data from firestore for purpose of counter \r\n    if (true) {\r\n      const db = firebase.firestore();\r\n      db.collection(`agencies`)\r\n        .get()\r\n        .then(snapshot => {\r\n          let data = [];\r\n          snapshot.forEach(element => {\r\n            data.push(Object.assign({\r\n              id: element.id,\r\n              \"Agency\": element.Agency,\r\n              \"Brand\": element.Brand,\r\n              \"Representative_name\": element.Representative_name,\r\n              \"Image\": element.Image,\r\n            }, element.data()))\r\n          })\r\n          // console.log(\"data=> \", data)\r\n\r\n          if (firestoreData.length != data.length) {\r\n            setFirestoreData(data);\r\n            // console.log(\"Updated\")\r\n          }\r\n        }).catch(err => {\r\n          console.log(\"Firebase data error ==> \", err)\r\n        })\r\n    }\r\n    //\r\n\r\n  })\r\n\r\n  const pickImage = async () => {\r\n    // No permissions request is necessary for launching the image library\r\n    let result = await ImagePicker.launchImageLibraryAsync({\r\n      mediaTypes: ImagePicker.MediaTypeOptions.All,\r\n      allowsEditing: true,\r\n      aspect: [4, 3],\r\n      quality: 1,\r\n    });\r\n\r\n    console.log(\"Result of Image ==> \", result);\r\n\r\n    //For Uploading Images to Cloud Storage\r\n    // Create a root reference\r\n    // var storageRef = firebase.storage().ref();\r\n    // const storageRef = ref(storage, 'some-child');\r\n\r\n    if (!result.cancelled) {\r\n\r\n      //Code to upload\r\n      if (result.uri != null) {\r\n        //React Native is unable to create a blob so we have to create it our self\r\n        const blob = await new Promise((resolve, reject) => {\r\n          const xhr = new XMLHttpRequest();\r\n          xhr.onload = function () {\r\n            resolve(xhr.response);\r\n          };\r\n          xhr.onerror = function () {\r\n            reject(new TypeError('Network request failed'));\r\n          };\r\n          xhr.responseType = 'blob';\r\n          xhr.open('GET', result.uri, true);\r\n          xhr.send(null);\r\n        });\r\n\r\n        const ref = firebase.storage().ref().child(new Date().toISOString())\r\n        const snapshot = ref.put(blob);\r\n\r\n        // Register three observers:\r\n        // 1. 'state_changed' observer, called any time the state changes\r\n        // 2. Error observer, called on failure\r\n        // 3. Completion observer, called on successful completion\r\n        uploadTask.on('state_changed',\r\n          (snapshot) => {\r\n            setUploading(true);\r\n            // Observe state change events such as progress, pause, and resume\r\n            // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\r\n            var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n            console.log('Upload is ' + progress + '% done');\r\n            switch (snapshot.state) {\r\n              case firebase.storage.TaskState.PAUSED: // or 'paused'\r\n                console.log('Upload is paused');\r\n                break;\r\n              case firebase.storage.TaskState.RUNNING: // or 'running'\r\n                console.log('Upload is running');\r\n                break;\r\n            }\r\n          },\r\n          (error) => {\r\n            // Handle unsuccessful uploads\r\n          },\r\n          () => {\r\n            // Handle successful uploads on complete\r\n            // For instance, get the download URL: https://firebasestorage.googleapis.com/...\r\n            uploadTask.snapshot.ref.getDownloadURL().then((url) => {\r\n              console.log('File available at', durl);\r\n              setUploading(false);\r\n              alert(\"Image Uploaded\");\r\n              setDownloadUrl(url);\r\n            });\r\n          }\r\n        );\r\n\r\n\r\n        // snapshot.on(firebase.storage.TaskEvent.STATE_CHANGED, () => {\r\n        //   setUploading(true);\r\n\r\n        // },\r\n        //   (err) => {\r\n        //     setUploading(false);\r\n        //     console.log(err);\r\n        //     // blob.close();\r\n        //     return;\r\n        //   },\r\n        //   () => {\r\n        //     snapshot.snapshot.ref.getDownloadURL().then((url) => {\r\n        //       setUploading(false);\r\n        //       alert(\"Image Uploaded\");\r\n        //       console.log(\"Download Url==> \", url);\r\n        //       setDownloadUrl(url);\r\n        //       //Close the blob for security reasons\r\n        //       // blob.close();\r\n        //       //Close the blob for security reasons\r\n        //       return url;\r\n        //     })\r\n        //   }\r\n        // )\r\n      }\r\n\r\n      setImageUri(result.uri);\r\n\r\n      // else {\r\n      //   alert(\"Please Choose an Image First\");\r\n      // }\r\n\r\n      //setDownloadUrl(null);\r\n      // Data URL string\r\n      // const message4 = result.uri;\r\n      // uploadString(storageRef, message4, 'data_url').then((snapshot) => {\r\n      //   console.log('Uploaded a data_url string!',snapshot);\r\n      // });\r\n      // 'file' comes from the Blob or File API\r\n      // storageRef.put(file).then((snapshot) => {\r\n      //   console.log('Uploaded a blob or file!');\r\n      // });\r\n\r\n    }\r\n  };\r\n\r\n  const addAgency = () => {\r\n    if (agency != '') {\r\n      let length = pickerItems.length;\r\n      //console.log(\"Length is \", length, agency);\r\n\r\n      //console.log(\"--===================> \",temp_picker_items)\r\n\r\n      setPickerItems(\r\n        [\r\n          ...pickerItems,\r\n          {\r\n            label: agency,\r\n            value: length + 1\r\n          }\r\n        ]\r\n      );\r\n      setShowAgencyAdd(false);\r\n      alert(\"Agency Added\");\r\n    }\r\n    else {\r\n      alert(\"Please enter an agency name to add it to the list.\");\r\n    }\r\n  }\r\n\r\n  const storeUser = () => {\r\n    if (pickedValue === '' || brand === '' || representative_name === '' || imageUri === '') {\r\n      alert('Fill all the fields!');\r\n    } else {\r\n      setIsLoading(true);\r\n      const dbRef = firebase.firestore().collection('agencies');\r\n      let count = selected_brand_count + 1;\r\n      dbRef.add({\r\n        Agency: pickedValue,\r\n        // Agency: agency,\r\n        Brand: brand,\r\n        Representative_name: representative_name,\r\n        Image: \"imageUri\",\r\n        Count: count\r\n      }).then((res) => {\r\n        // setAgency('');\r\n        setVisibility(true);\r\n        setPickedValue('');\r\n        setBrand('');\r\n        setAgency('');\r\n        setPicked(1);\r\n        setRepresentative_name('');\r\n        set_selected_brand_count(0);\r\n        setIsLoading(false);\r\n        setImageUri('');\r\n        //alert(\"You should now navigate to the listing screen because you've added the item\")\r\n        //props.navigation.navigate('UserScreen')\r\n        //navigate('UserScreen')\r\n        setTimeout(() => { navigation.push('UserScreen'); }, 2000);\r\n        setTimeout(() => { setVisibility(false); }, 4000);\r\n      })\r\n        .catch((err) => {\r\n          console.error(\"Error found: \", err);\r\n          setIsLoading(false);\r\n        });\r\n    }\r\n  }\r\n\r\n  const uploadImage = async () => {\r\n    if (imageUri != null) {\r\n      //React Native is unable to create a blob so we have to create it our self\r\n      const blob = await new Promise((resolve, reject) => {\r\n        const xhr = new XMLHttpRequest();\r\n        xhr.onload = function () {\r\n          resolve(xhr.response);\r\n        };\r\n        xhr.onerror = function () {\r\n          reject(new TypeError('Network request failed'));\r\n        };\r\n        xhr.responseType = 'blob';\r\n        xhr.open('GET', imageUri, true);\r\n        xhr.send(null);\r\n      });\r\n\r\n      const ref = firebase.storage().ref().child(new Date().toISOString())\r\n      const snapshot = ref.put(blob);\r\n\r\n      snapshot.on(firebase.storage.TaskEvent.STATE_CHANGED, () => {\r\n        setUploading(true);\r\n\r\n      },\r\n        (err) => {\r\n          setUploading(false);\r\n          console.log(err);\r\n          // blob.close();\r\n          return;\r\n        },\r\n        () => {\r\n          snapshot.snapshot.ref.getDownloadURL().then((url) => {\r\n            setUploading(false);\r\n            alert(\"Image Uploaded\");\r\n            console.log(\"Download Url==> \", url);\r\n            setDownloadUrl(url);\r\n            //Close the blob for security reasons\r\n            // blob.close();\r\n            //Close the blob for security reasons\r\n            return url;\r\n          })\r\n        }\r\n      )\r\n    }\r\n    else {\r\n      alert(\"Please Choose an Image First\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <ScrollView style={styles.container}>\r\n\r\n      {(visibility) ? (\r\n        <View style={styles.snackBar}>\r\n          <View style={styles.IconContainer}>\r\n            <AntDesign name=\"delete\" size={23} style={{ lineHeight: 40 }} color=\"#ffffff\" />\r\n          </View>\r\n          <Text style={styles.snack_txt}>Agency was added to the list</Text>\r\n        </View>\r\n      ) : (\r\n        <></>\r\n      )}\r\n\r\n      {/* Choose Agency Container */}\r\n      {(device_name == \"iOS\") ? (\r\n        <View style={styles.inputGroupTop}>\r\n          <Text style={styles.labelTop}>Agency name</Text>\r\n          <Picker\r\n            selectedValue={picked}\r\n            style={styles.picker}\r\n            onValueChange={(itemValue, itemIndex) => {\r\n              setPicked(itemValue)\r\n              setAddCount(true)\r\n            }\r\n            }>\r\n            {pickerItems.map((v, i) => {\r\n              return (\r\n                <Picker.Item key={i} label={v.label} value={v.value} />\r\n              )\r\n            })}\r\n          </Picker>\r\n        </View>\r\n      ) : (\r\n        <View style={styles.inputGroupTop}>\r\n          <Text style={styles.labelTop}>Agency name</Text>\r\n          <Picker\r\n            selectedValue={picked}\r\n            style={styles.picker}\r\n            onValueChange={(itemValue, itemIndex) => {\r\n              setPicked(itemValue)\r\n              setAddCount(true)\r\n              // console.log(\" ): \", itemIndex)\r\n            }\r\n            }>\r\n            {pickerItems.map((v, i) => {\r\n              return (\r\n                <Picker.Item key={i} label={v.label} value={v.value} />\r\n              )\r\n            })}\r\n          </Picker>\r\n        </View>\r\n      )}\r\n      {/* Choose Agency Container */}\r\n\r\n      {\r\n        (showAgencyAdd) ? (\r\n          <View>\r\n            {/* Agency Name Container */}\r\n            < View style={styles.inputGroup}>\r\n              <View>\r\n                <Text style={styles.label}>Add New</Text>\r\n\r\n                <TextInput\r\n                  style={styles.inputtxt}\r\n                  placeholder={'Agency name'}\r\n                  value={agency}\r\n                  onChangeText={(val) => setAgency(val)}\r\n                />\r\n              </View>\r\n            </View>\r\n            {/* Agency Name Container */}\r\n\r\n            {/* ---------------------------Add Button Container--------------------------- */}\r\n            <View style={styles.add_main_container}>\r\n              {/* Add Button Container */}\r\n              <TouchableOpacity\r\n                style={styles.container_button}\r\n                onPress={addAgency}\r\n              >\r\n                <View style={styles.IconContainer}>\r\n                  <Entypo name=\"add-to-list\" size={23} style={{ lineHeight: 40 }} color=\"#60AD7F\" />\r\n                </View>\r\n                <Text style={styles.add_button_txt}>Add Agency</Text>\r\n              </TouchableOpacity>\r\n              {/* Add Button Container */}\r\n            </View>\r\n            {/* ---------------------------Add Button Container--------------------------- */}\r\n          </View>\r\n        ) : (\r\n          <></>\r\n        )\r\n      }\r\n\r\n\r\n\r\n      {/* Brand Name Container */}\r\n      <View style={styles.inputGroup}>\r\n\r\n        <Text style={styles.label}>Brand</Text>\r\n\r\n        <TextInput\r\n          style={styles.inputtxt}\r\n          placeholder={'Brand name'}\r\n          value={brand}\r\n          onChangeText={(val) => setBrand(val)}\r\n        />\r\n      </View>\r\n      {/* Brand Name Container */}\r\n\r\n      {/* Representative Name Container */}\r\n      <View style={styles.inputGroup}>\r\n\r\n        <Text style={styles.label}>Repersentative Name</Text>\r\n\r\n        <TextInput\r\n          style={styles.inputtxt}\r\n          placeholder={'First & last name'}\r\n          value={representative_name}\r\n          onChangeText={(val) => setRepresentative_name(val)}\r\n        />\r\n      </View>\r\n      {/* Representative Name Container */}\r\n\r\n      {/* Image Container */}\r\n      <View style={styles.inputGroup}>\r\n        <Text style={styles.label}>Image</Text>\r\n        <TouchableOpacity style={styles.inputtxt} onPress={pickImage}>\r\n          <Text>Pick an image from camera roll</Text>\r\n        </TouchableOpacity>\r\n\r\n      </View>\r\n      {/* Image Container */}\r\n\r\n      <ProgressBar style={{ marginTop: 10, marginBottom: 20, borderRadius: 10, width: \"100%\", height: 15 }} progress={0.5} color=\"#7db597\" />\r\n\r\n      <View style={styles.ImageContainer}>\r\n        {(imageUri == null) ?\r\n          (\r\n            <Image source={alt} style={{ width: \"95%\", height: 200, borderRadius: 10 }} />\r\n          ) : (\r\n            (download_url == null) ? (\r\n              <View>\r\n                <Text style={{ color: \"#f0ad4e\" }}>The Image Preview is Local</Text>\r\n                <Image source={{ uri: imageUri }} style={{ width: \"90%\", height: 200, borderRadius: 10 }} />\r\n              </View>\r\n            ) : (\r\n              <View>\r\n                <Text style={{ color: \"#5cb85c\" }}>The Image Preview is From Cloud</Text>\r\n                <Image source={{ uri: download_url }} style={{ width: \"90%\", height: 200, borderRadius: 10 }} />\r\n              </View>\r\n            )\r\n          )\r\n        }\r\n      </View>\r\n\r\n      {/* ---------------------------Main Button Container--------------------------- */}\r\n      <View style={styles.buttons_main_container}>\r\n        {/* Save Button Container */}\r\n        <TouchableOpacity\r\n          style={styles.container_button}\r\n          onPress={storeUser}\r\n        >\r\n          <View style={styles.IconContainer}>\r\n            <Entypo name=\"save\" size={23} style={{ lineHeight: 40 }} color=\"#60AD7F\" />\r\n          </View>\r\n          <Text style={styles.save_button_txt}>SAVE</Text>\r\n        </TouchableOpacity>\r\n        {/* Save Button Container */}\r\n\r\n        {/* Delete Button Container */}\r\n        {/* <TouchableOpacity\r\n          style={styles.container_button}\r\n          onPress={() => alert('Delete Button Pressed')}\r\n        >\r\n          <View style={styles.IconContainer}>\r\n            <AntDesign name=\"delete\" size={23} style={{ lineHeight: 40 }} color=\"#000000\" />\r\n          </View>\r\n          <Text style={styles.delete_button_txt}>DELETE</Text>\r\n        </TouchableOpacity> */}\r\n        {/* Delete Button Container */}\r\n      </View>\r\n      {/* ---------------------------Main Button Container--------------------------- */}\r\n\r\n      {/* {(imageUri == null) ? (\r\n        <View>\r\n          <Text>Please Choose an Image to Upload it to Cloud</Text>\r\n        </View>\r\n      ) : (\r\n        (uploading) ? (\r\n          <View>\r\n            <ActivityIndicator size=\"large\" color=\"#000\" />\r\n            <Button disabled={true} title='Upload' onPress={uploadImage} />\r\n          </View>\r\n        ) : (\r\n          <Button title='Upload' onPress={uploadImage} />\r\n        )\r\n      )} */}\r\n\r\n    </ScrollView >\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  ImageContainer: {\r\n    alignItems: \"center\"\r\n\r\n  },\r\n  snackBar: {\r\n    borderWidth: 0.5,\r\n    borderColor: \"#60AD7F\",\r\n    backgroundColor: \"#60AD7F\",\r\n    flexDirection: \"row\",\r\n    flex: 1,\r\n    alignItems: \"center\",\r\n    position: \"absolute\",\r\n    height: 54,\r\n    width: \"90%\",\r\n    zIndex: 2,\r\n    shadowColor: \"rgba(32, 32, 32, 0.08)\",\r\n    shadowRadius: \"0px 9.75px 9.75px -7.3125px\",\r\n    borderRadius: 3.25,\r\n    left: \"5%\",\r\n    top: 75,\r\n    // box-shadow: 0px 9.75px 9.75px -7.3125px rgba(32, 32, 32, 0.08);\r\n    // border-radius: 3.25px;\r\n  },\r\n  IconContainer: {\r\n    width: \"10%\",\r\n    //borderWidth: 1,\r\n    alignItems: \"center\"\r\n  },\r\n  container_button: {\r\n    marginTop: 20,\r\n    borderColor: \"rgba(0, 0, 0, 0.12)\",\r\n    justifyContent: \"flex-start\",\r\n    borderWidth: 1,\r\n    height: 50,\r\n    width: \"100%\",\r\n    backgroundColor: \"rgba(255, 255, 255, 0.87)\",\r\n    borderRadius: 4,\r\n    flex: 1,\r\n    flexDirection: \"row\"\r\n  },\r\n  snack_txt: {\r\n    fontSize: 14,\r\n    color: \"#ffffff\",\r\n    width: \"90%\",\r\n    // borderWidth:1,\r\n    alignItems: \"left\",\r\n    textAlign: \"left\",\r\n    lineHeight: 40,\r\n    left: 37\r\n  },\r\n  delete_button_txt: {\r\n    fontSize: 14,\r\n    color: \"#000000\",\r\n    width: \"90%\",\r\n    //borderWidth:1,\r\n    alignItems: \"center\",\r\n    textAlign: \"center\",\r\n    lineHeight: 40\r\n  },\r\n  save_button_txt: {\r\n    fontSize: 14,\r\n    color: \"#60AD7F\",\r\n    width: \"90%\",\r\n    //borderWidth:1,\r\n    alignItems: \"center\",\r\n    textAlign: \"center\",\r\n    lineHeight: 40\r\n  },\r\n  add_button_txt: {\r\n    fontSize: 16,\r\n    color: \"#60AD7F\",\r\n    width: \"90%\",\r\n    //borderWidth:1,\r\n    alignItems: \"center\",\r\n    textAlign: \"center\",\r\n    lineHeight: 40\r\n  },\r\n  add_main_container: {\r\n    marginTop: -25,\r\n    marginBottom: 10\r\n  },\r\n  buttons_main_container: {\r\n    paddingTop: 0\r\n  },\r\n  container: {\r\n    padding: 10,\r\n    backgroundColor: '#ffffff'\r\n  },\r\n  inputtxt: {\r\n    fontSize: 16,\r\n    color: \"rgba(0, 0, 0, 0.87);\",\r\n    paddingTop: 0\r\n  },\r\n  labelTop: {\r\n    fontSize: 12,\r\n    color: \"#60AD7F\"\r\n  },\r\n  label: {\r\n    fontSize: 12,\r\n    color: \"rgba(0, 0, 0, 0.38);\"\r\n  },\r\n  picker: {\r\n    width: \"100%\",\r\n    color: \"black\",\r\n    zIndex: 1000,\r\n    marginTop: 4,\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#65a984',\r\n    backgroundColor: '#ededed',\r\n  },\r\n  label_txt: {\r\n    fontSize: 16,\r\n    color: \"rgba(0, 0, 0, 0.87)\"\r\n  },\r\n  inputGroup: {\r\n    flex: 1,\r\n    height: 56,\r\n    padding: 10,\r\n    marginBottom: 15,\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#65a984',\r\n    backgroundColor: '#ededed',\r\n  },\r\n  inputGroupTop: {\r\n    // flex: 1,\r\n    // flexDirection: 'row',\r\n    // justifyContent: \"space-between\",\r\n    height: 60,\r\n    padding: 10,\r\n    marginTop: 30,\r\n    marginBottom: 15,\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#65a984',\r\n    backgroundColor: '#ededed',\r\n    zIndex: 1\r\n  },\r\n  preloader: {\r\n    left: 0,\r\n    right: 0,\r\n    top: 0,\r\n    bottom: 0,\r\n    position: 'absolute',\r\n    alignItems: 'center',\r\n    justifyContent: 'center'\r\n  },\r\n  button: {\r\n    alignItems: 'center',\r\n    color: '#6fa686',\r\n    backgroundColor: '#ffffff',\r\n    padding: 10,\r\n    borderWidth: 1,\r\n    borderColor: '#e9e9e9',\r\n  },\r\n  buttonInner: {\r\n    padding: 10,\r\n  },\r\n})\r\n\r\nexport default AddUserScreen;\r\n"]},"metadata":{},"sourceType":"module"}