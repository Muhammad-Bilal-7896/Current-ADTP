{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _extends from\"@babel/runtime/helpers/extends\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _regeneratorRuntime from\"@babel/runtime/regenerator\";import React,{useState,useEffect}from'react';import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Text from\"react-native-web/dist/exports/Text\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import TextInput from\"react-native-web/dist/exports/TextInput\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import ActivityIndicator from\"react-native-web/dist/exports/ActivityIndicator\";import View from\"react-native-web/dist/exports/View\";import Button from\"react-native-web/dist/exports/Button\";import Image from\"react-native-web/dist/exports/Image\";import Platform from\"react-native-web/dist/exports/Platform\";import{Entypo}from'@expo/vector-icons';import{AntDesign}from'@expo/vector-icons';import{ProgressBar,Colors}from'react-native-paper';import Picker from\"react-native-web/dist/exports/Picker\";import*as Device from'expo-device';import alt from\"../assets/alter.png\";import*as ImagePicker from'expo-image-picker';import\"firebase/storage\";import firebase from\"../database/firebaseDb\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var picker_Items=[{label:\"Company 1\",value:1},{label:\"Company 2\",value:2},{label:\"Company 3\",value:3},{label:\"Company 4\",value:4},{label:\"Company 5\",value:5},{label:\"Company 6\",value:6},{label:\"Company 7\",value:7},{label:\"Company 8\",value:8},{label:\"Company 9\",value:9},{label:\"Company 10\",value:10}];function AddUserScreen(_ref){var navigation=_ref.navigation;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState(picker_Items),_useState4=_slicedToArray(_useState3,2),pickerItems=_useState4[0],setPickerItems=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),visibility=_useState6[0],setVisibility=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),imageUri=_useState8[0],setImageUri=_useState8[1];var device_name=Device.osName;var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),agency=_useState10[0],setAgency=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),brand=_useState12[0],setBrand=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),representative_name=_useState14[0],setRepresentative_name=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),image=_useState16[0],setImage=_useState16[1];var _useState17=useState(1),_useState18=_slicedToArray(_useState17,2),picked=_useState18[0],setPicked=_useState18[1];var _useState19=useState(''),_useState20=_slicedToArray(_useState19,2),pickedValue=_useState20[0],setPickedValue=_useState20[1];var _useState21=useState(0),_useState22=_slicedToArray(_useState21,2),selected_brand_count=_useState22[0],set_selected_brand_count=_useState22[1];var _useState23=useState([]),_useState24=_slicedToArray(_useState23,2),firestoreData=_useState24[0],setFirestoreData=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),showAgencyAdd=_useState26[0],setShowAgencyAdd=_useState26[1];var _useState27=useState(false),_useState28=_slicedToArray(_useState27,2),addCount=_useState28[0],setAddCount=_useState28[1];useEffect(function(){if(pickedValue!=''){var count=0;for(var i=0;i<firestoreData.length;i++){if(firestoreData[i].Agency==pickedValue){count=count+1;}}console.log(\"The slected agency '\"+pickedValue+\"' had appeared \\\"\"+count+\"\\\" number of times previously\");console.log(\"----------?\"+count);set_selected_brand_count(count);}if(isLoading){return _jsx(View,{style:styles.preloader,children:_jsx(ActivityIndicator,{size:\"large\",color:\"#9E9E9E\"})});}for(var _i=0;_i<pickerItems.length;_i++){if(pickerItems[_i].value==picked){setPickedValue(pickerItems[_i].label);}}if(true){var db=firebase.firestore();db.collection(\"agencies\").get().then(function(snapshot){var data=[];snapshot.forEach(function(element){data.push(_extends({id:element.id,\"Agency\":element.Agency,\"Brand\":element.Brand,\"Representative_name\":element.Representative_name,\"Image\":element.Image},element.data()));});if(firestoreData.length!=data.length){setFirestoreData(data);}}).catch(function(err){console.log(\"Firebase data error ==> \",err);});}});var pickImage=function pickImage(){var result;return _regeneratorRuntime.async(function pickImage$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({mediaTypes:ImagePicker.MediaTypeOptions.All,allowsEditing:true,aspect:[4,3],quality:1}));case 2:result=_context.sent;console.log(\"Result of Image ==> \",result);if(!result.cancelled){setImageUri(result.uri);}case 5:case\"end\":return _context.stop();}}},null,null,null,Promise);};var addAgency=function addAgency(){if(agency!=''){var length=pickerItems.length;setPickerItems([].concat(_toConsumableArray(pickerItems),[{label:agency,value:length+1}]));setShowAgencyAdd(false);alert(\"Agency Added\");}else{alert(\"Please enter an agency name to add it to the list.\");}};var storeUser=function storeUser(){if(pickedValue===''||brand===''||representative_name===''||imageUri===''){alert('Fill all the fields!');}else{setIsLoading(true);var dbRef=firebase.firestore().collection('agencies');var count=selected_brand_count+1;dbRef.add({Agency:pickedValue,Brand:brand,Representative_name:representative_name,Image:\"imageUri\",Count:count}).then(function(res){setVisibility(true);setPickedValue('');setBrand('');setAgency('');setPicked(1);setRepresentative_name('');set_selected_brand_count(0);setIsLoading(false);setImageUri('');setTimeout(function(){navigation.push('UserScreen');},2000);setTimeout(function(){setVisibility(false);},4000);}).catch(function(err){console.error(\"Error found: \",err);setIsLoading(false);});}};return _jsxs(ScrollView,{style:styles.container,children:[visibility?_jsxs(View,{style:styles.snackBar,children:[_jsx(View,{style:styles.IconContainer,children:_jsx(AntDesign,{name:\"delete\",size:23,style:{lineHeight:40},color:\"#ffffff\"})}),_jsx(Text,{style:styles.snack_txt,children:\"Agency was added to the list\"})]}):_jsx(_Fragment,{}),device_name==\"iOS\"?_jsxs(View,{style:styles.inputGroupTop,children:[_jsx(Text,{style:styles.labelTop,children:\"Agency name\"}),_jsx(Picker,{selectedValue:picked,style:styles.picker,onValueChange:function onValueChange(itemValue,itemIndex){setPicked(itemValue);setAddCount(true);},children:pickerItems.map(function(v,i){return _jsx(Picker.Item,{label:v.label,value:v.value},i);})})]}):_jsxs(View,{style:styles.inputGroupTop,children:[_jsx(Text,{style:styles.labelTop,children:\"Agency name\"}),_jsx(Picker,{selectedValue:picked,style:styles.picker,onValueChange:function onValueChange(itemValue,itemIndex){setPicked(itemValue);setAddCount(true);},children:pickerItems.map(function(v,i){return _jsx(Picker.Item,{label:v.label,value:v.value},i);})})]}),showAgencyAdd?_jsxs(View,{children:[_jsx(View,{style:styles.inputGroup,children:_jsxs(View,{children:[_jsx(Text,{style:styles.label,children:\"Add New\"}),_jsx(TextInput,{style:styles.inputtxt,placeholder:'Agency name',value:agency,onChangeText:function onChangeText(val){return setAgency(val);}})]})}),_jsx(View,{style:styles.add_main_container,children:_jsxs(TouchableOpacity,{style:styles.container_button,onPress:addAgency,children:[_jsx(View,{style:styles.IconContainer,children:_jsx(Entypo,{name:\"add-to-list\",size:23,style:{lineHeight:40},color:\"#60AD7F\"})}),_jsx(Text,{style:styles.add_button_txt,children:\"Add Agency\"})]})})]}):_jsx(View,{style:styles.add_main_container,children:_jsxs(TouchableOpacity,{style:styles.container_button,onPress:function onPress(){return setShowAgencyAdd(true);},children:[_jsx(View,{style:styles.IconContainer,children:_jsx(AntDesign,{name:\"pluscircleo\",size:23,style:{lineHeight:40},color:\"#60AD7F\"})}),_jsx(Text,{style:styles.save_button_txt,children:\"Add Agency in List\"})]})}),_jsxs(View,{style:styles.inputGroup,children:[_jsx(Text,{style:styles.label,children:\"Brand\"}),_jsx(TextInput,{style:styles.inputtxt,placeholder:'Brand name',value:brand,onChangeText:function onChangeText(val){return setBrand(val);}})]}),_jsxs(View,{style:styles.inputGroup,children:[_jsx(Text,{style:styles.label,children:\"Repersentative Name\"}),_jsx(TextInput,{style:styles.inputtxt,placeholder:'First & last name',value:representative_name,onChangeText:function onChangeText(val){return setRepresentative_name(val);}})]}),_jsxs(View,{style:styles.inputGroup,children:[_jsx(Text,{style:styles.label,children:\"Image\"}),_jsx(TouchableOpacity,{style:styles.inputtxt,onPress:pickImage,children:_jsx(Text,{children:\"Pick an image from camera roll\"})})]}),_jsx(ProgressBar,{style:{marginTop:10,marginBottom:20,borderRadius:10,width:\"100%\",height:15},progress:0.5,color:\"#7db597\"}),_jsx(View,{style:styles.ImageContainer,children:imageUri?_jsx(Image,{source:{uri:imageUri},style:{width:\"40%\",height:300,borderRadius:10}}):_jsx(Image,{source:alt,style:{width:\"40%\",height:300,borderRadius:10}})}),_jsxs(View,{style:styles.buttons_main_container,children:[_jsxs(TouchableOpacity,{style:styles.container_button,onPress:storeUser,children:[_jsx(View,{style:styles.IconContainer,children:_jsx(Entypo,{name:\"save\",size:23,style:{lineHeight:40},color:\"#60AD7F\"})}),_jsx(Text,{style:styles.save_button_txt,children:\"SAVE\"})]}),_jsxs(TouchableOpacity,{style:styles.container_button,onPress:function onPress(){return alert('Delete Button Pressed');},children:[_jsx(View,{style:styles.IconContainer,children:_jsx(AntDesign,{name:\"delete\",size:23,style:{lineHeight:40},color:\"#000000\"})}),_jsx(Text,{style:styles.delete_button_txt,children:\"DELETE\"})]})]})]});}var styles=StyleSheet.create({ImageContainer:{alignItems:\"center\"},snackBar:{borderWidth:0.5,borderColor:\"#60AD7F\",backgroundColor:\"#60AD7F\",flexDirection:\"row\",flex:1,alignItems:\"center\",position:\"absolute\",height:54,width:\"90%\",zIndex:2,shadowColor:\"rgba(32, 32, 32, 0.08)\",shadowRadius:\"0px 9.75px 9.75px -7.3125px\",borderRadius:3.25,left:\"5%\",top:75},IconContainer:{width:\"10%\",alignItems:\"center\"},container_button:{marginTop:20,borderColor:\"rgba(0, 0, 0, 0.12)\",justifyContent:\"flex-start\",borderWidth:1,height:50,width:\"100%\",backgroundColor:\"rgba(255, 255, 255, 0.87)\",borderRadius:4,flex:1,flexDirection:\"row\"},snack_txt:{fontSize:14,color:\"#ffffff\",width:\"90%\",alignItems:\"left\",textAlign:\"left\",lineHeight:40,left:37},delete_button_txt:{fontSize:14,color:\"#000000\",width:\"90%\",alignItems:\"center\",textAlign:\"center\",lineHeight:40},save_button_txt:{fontSize:14,color:\"#60AD7F\",width:\"90%\",alignItems:\"center\",textAlign:\"center\",lineHeight:40},add_button_txt:{fontSize:16,color:\"#60AD7F\",width:\"90%\",alignItems:\"center\",textAlign:\"center\",lineHeight:40},add_main_container:{marginTop:-25,marginBottom:10},buttons_main_container:{paddingTop:0},container:{padding:10,backgroundColor:'#ffffff'},inputtxt:{fontSize:16,color:\"rgba(0, 0, 0, 0.87);\",paddingTop:0},labelTop:{fontSize:12,color:\"#60AD7F\"},label:{fontSize:12,color:\"rgba(0, 0, 0, 0.38);\"},picker:{width:\"100%\",color:\"black\",zIndex:1000,marginTop:4,borderBottomWidth:1,borderBottomColor:'#65a984',backgroundColor:'#ededed'},label_txt:{fontSize:16,color:\"rgba(0, 0, 0, 0.87)\"},inputGroup:{flex:1,height:56,padding:10,marginBottom:15,borderBottomWidth:1,borderBottomColor:'#65a984',backgroundColor:'#ededed'},inputGroupTop:{height:60,padding:10,marginTop:30,marginBottom:15,borderBottomWidth:1,borderBottomColor:'#65a984',backgroundColor:'#ededed',zIndex:1},preloader:{left:0,right:0,top:0,bottom:0,position:'absolute',alignItems:'center',justifyContent:'center'},button:{alignItems:'center',color:'#6fa686',backgroundColor:'#ffffff',padding:10,borderWidth:1,borderColor:'#e9e9e9'},buttonInner:{padding:10}});export default AddUserScreen;","map":{"version":3,"sources":["H:/ADTP App current/screens/AddUserScreen.jsx"],"names":["React","useState","useEffect","Entypo","AntDesign","ProgressBar","Colors","Device","alt","ImagePicker","firebase","picker_Items","label","value","AddUserScreen","navigation","isLoading","setIsLoading","pickerItems","setPickerItems","visibility","setVisibility","imageUri","setImageUri","device_name","osName","agency","setAgency","brand","setBrand","representative_name","setRepresentative_name","image","setImage","picked","setPicked","pickedValue","setPickedValue","selected_brand_count","set_selected_brand_count","firestoreData","setFirestoreData","showAgencyAdd","setShowAgencyAdd","addCount","setAddCount","count","i","length","Agency","console","log","styles","preloader","db","firestore","collection","get","then","snapshot","data","forEach","element","push","id","Brand","Representative_name","Image","catch","err","pickImage","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","All","allowsEditing","aspect","quality","result","cancelled","uri","addAgency","alert","storeUser","dbRef","add","Count","res","setTimeout","error","container","snackBar","IconContainer","lineHeight","snack_txt","inputGroupTop","labelTop","picker","itemValue","itemIndex","map","v","inputGroup","inputtxt","val","add_main_container","container_button","add_button_txt","save_button_txt","marginTop","marginBottom","borderRadius","width","height","ImageContainer","buttons_main_container","delete_button_txt","StyleSheet","create","alignItems","borderWidth","borderColor","backgroundColor","flexDirection","flex","position","zIndex","shadowColor","shadowRadius","left","top","justifyContent","fontSize","color","textAlign","paddingTop","padding","borderBottomWidth","borderBottomColor","label_txt","right","bottom","button","buttonInner"],"mappings":"2PAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,C,onBAcA,OAASC,MAAT,KAAuB,oBAAvB,CACA,OAASC,SAAT,KAA0B,oBAA1B,CAEA,OAASC,WAAT,CAAsBC,MAAtB,KAAoC,oBAApC,C,yDAMA,MAAO,GAAKC,CAAAA,MAAZ,KAAwB,aAAxB,CAEA,MAAOC,CAAAA,GAAP,2BAGA,MAAO,GAAKC,CAAAA,WAAZ,KAA6B,mBAA7B,CAEA,MAAO,kBAAP,CAEA,MAAOC,CAAAA,QAAP,8B,6IAEA,GAAIC,CAAAA,YAAY,CAAG,CACjB,CACEC,KAAK,CAAE,WADT,CAEEC,KAAK,CAAE,CAFT,CADiB,CAKjB,CACED,KAAK,CAAE,WADT,CAEEC,KAAK,CAAE,CAFT,CALiB,CASjB,CACED,KAAK,CAAE,WADT,CAEEC,KAAK,CAAE,CAFT,CATiB,CAajB,CACED,KAAK,CAAE,WADT,CAEEC,KAAK,CAAE,CAFT,CAbiB,CAiBjB,CACED,KAAK,CAAE,WADT,CAEEC,KAAK,CAAE,CAFT,CAjBiB,CAqBjB,CACED,KAAK,CAAE,WADT,CAEEC,KAAK,CAAE,CAFT,CArBiB,CAyBjB,CACED,KAAK,CAAE,WADT,CAEEC,KAAK,CAAE,CAFT,CAzBiB,CA6BjB,CACED,KAAK,CAAE,WADT,CAEEC,KAAK,CAAE,CAFT,CA7BiB,CAiCjB,CACED,KAAK,CAAE,WADT,CAEEC,KAAK,CAAE,CAFT,CAjCiB,CAqCjB,CACED,KAAK,CAAE,YADT,CAEEC,KAAK,CAAE,EAFT,CArCiB,CAAnB,CA2CA,QAASC,CAAAA,aAAT,MAAuC,IAAdC,CAAAA,UAAc,MAAdA,UAAc,CAErC,cAAkCd,QAAQ,CAAC,KAAD,CAA1C,wCAAOe,SAAP,eAAkBC,YAAlB,eAEA,eAAsChB,QAAQ,CAACU,YAAD,CAA9C,yCAAOO,WAAP,eAAoBC,cAApB,eAEA,eAAoClB,QAAQ,CAAC,KAAD,CAA5C,yCAAOmB,UAAP,eAAmBC,aAAnB,eAEA,eAAgCpB,QAAQ,CAAC,IAAD,CAAxC,yCAAOqB,QAAP,eAAiBC,WAAjB,eAGA,GAAMC,CAAAA,WAAW,CAAGjB,MAAM,CAACkB,MAA3B,CAEA,eAA4BxB,QAAQ,CAAC,EAAD,CAApC,0CAAOyB,MAAP,gBAAeC,SAAf,gBACA,gBAA0B1B,QAAQ,CAAC,EAAD,CAAlC,2CAAO2B,KAAP,gBAAcC,QAAd,gBACA,gBAAsD5B,QAAQ,CAAC,EAAD,CAA9D,2CAAO6B,mBAAP,gBAA4BC,sBAA5B,gBACA,gBAA0B9B,QAAQ,CAAC,EAAD,CAAlC,2CAAO+B,KAAP,gBAAcC,QAAd,gBAEA,gBAA4BhC,QAAQ,CAAC,CAAD,CAApC,2CAAOiC,MAAP,gBAAeC,SAAf,gBACA,gBAAsClC,QAAQ,CAAC,EAAD,CAA9C,2CAAOmC,WAAP,gBAAoBC,cAApB,gBAEA,gBAAyDpC,QAAQ,CAAC,CAAD,CAAjE,2CAAOqC,oBAAP,gBAA6BC,wBAA7B,gBAGA,gBAA0CtC,QAAQ,CAAC,EAAD,CAAlD,2CAAOuC,aAAP,gBAAsBC,gBAAtB,gBAGA,gBAA0CxC,QAAQ,CAAC,KAAD,CAAlD,2CAAOyC,aAAP,gBAAsBC,gBAAtB,gBACA,gBAAgC1C,QAAQ,CAAC,KAAD,CAAxC,2CAAO2C,QAAP,gBAAiBC,WAAjB,gBAEA3C,SAAS,CAAC,UAAM,CAEd,GAAIkC,WAAW,EAAI,EAAnB,CAAuB,CAErB,GAAIU,CAAAA,KAAK,CAAG,CAAZ,CACA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGP,aAAa,CAACQ,MAAlC,CAA0CD,CAAC,EAA3C,CAA+C,CAC7C,GAAIP,aAAa,CAACO,CAAD,CAAb,CAAiBE,MAAjB,EAA2Bb,WAA/B,CAA4C,CAC1CU,KAAK,CAAGA,KAAK,CAAG,CAAhB,CACD,CACF,CAGDI,OAAO,CAACC,GAAR,wBAAmCf,WAAnC,qBAAiEU,KAAjE,kCAEAI,OAAO,CAACC,GAAR,CAAY,cAAgBL,KAA5B,EACAP,wBAAwB,CAACO,KAAD,CAAxB,CAKD,CAED,GAAI9B,SAAJ,CAAe,CACb,MACE,MAAC,IAAD,EAAM,KAAK,CAAEoC,MAAM,CAACC,SAApB,UACE,KAAC,iBAAD,EAAmB,IAAI,CAAC,OAAxB,CAAgC,KAAK,CAAC,SAAtC,EADF,EADF,CAKD,CACD,IAAK,GAAIN,CAAAA,EAAC,CAAG,CAAb,CAAgBA,EAAC,CAAG7B,WAAW,CAAC8B,MAAhC,CAAwCD,EAAC,EAAzC,CAA6C,CAC3C,GAAI7B,WAAW,CAAC6B,EAAD,CAAX,CAAelC,KAAf,EAAwBqB,MAA5B,CAAoC,CAElCG,cAAc,CAACnB,WAAW,CAAC6B,EAAD,CAAX,CAAenC,KAAhB,CAAd,CACD,CACF,CAOD,GAAI,IAAJ,CAAU,CACR,GAAM0C,CAAAA,EAAE,CAAG5C,QAAQ,CAAC6C,SAAT,EAAX,CACAD,EAAE,CAACE,UAAH,aACGC,GADH,GAEGC,IAFH,CAEQ,SAAAC,QAAQ,CAAI,CAChB,GAAIC,CAAAA,IAAI,CAAG,EAAX,CACAD,QAAQ,CAACE,OAAT,CAAiB,SAAAC,OAAO,CAAI,CAC1BF,IAAI,CAACG,IAAL,CAAU,SAAc,CACtBC,EAAE,CAAEF,OAAO,CAACE,EADU,CAEtB,SAAUF,OAAO,CAACb,MAFI,CAGtB,QAASa,OAAO,CAACG,KAHK,CAItB,sBAAuBH,OAAO,CAACI,mBAJT,CAKtB,QAASJ,OAAO,CAACK,KALK,CAAd,CAMPL,OAAO,CAACF,IAAR,EANO,CAAV,EAOD,CARD,EAWA,GAAIpB,aAAa,CAACQ,MAAd,EAAwBY,IAAI,CAACZ,MAAjC,CAAyC,CACvCP,gBAAgB,CAACmB,IAAD,CAAhB,CAED,CACF,CAnBH,EAmBKQ,KAnBL,CAmBW,SAAAC,GAAG,CAAI,CACdnB,OAAO,CAACC,GAAR,CAAY,0BAAZ,CAAwCkB,GAAxC,EACD,CArBH,EAsBD,CAGF,CApEQ,CAAT,CAsEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,kLAEG7D,WAAW,CAAC8D,uBAAZ,CAAoC,CACrDC,UAAU,CAAE/D,WAAW,CAACgE,gBAAZ,CAA6BC,GADY,CAErDC,aAAa,CAAE,IAFsC,CAGrDC,MAAM,CAAE,CAAC,CAAD,CAAI,CAAJ,CAH6C,CAIrDC,OAAO,CAAE,CAJ4C,CAApC,CAFH,SAEZC,MAFY,eAShB5B,OAAO,CAACC,GAAR,CAAY,sBAAZ,CAAoC2B,MAApC,EAOA,GAAI,CAACA,MAAM,CAACC,SAAZ,CAAuB,CACrBxD,WAAW,CAACuD,MAAM,CAACE,GAAR,CAAX,CAWD,CA5Be,qEAAlB,CA+BA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtB,GAAIvD,MAAM,EAAI,EAAd,CAAkB,CAChB,GAAIsB,CAAAA,MAAM,CAAG9B,WAAW,CAAC8B,MAAzB,CAUA7B,cAAc,8BAEPD,WAFO,GAGV,CACEN,KAAK,CAAEc,MADT,CAEEb,KAAK,CAAEmC,MAAM,CAAG,CAFlB,CAHU,GAAd,CASAL,gBAAgB,CAAC,KAAD,CAAhB,CACAuC,KAAK,CAAC,cAAD,CAAL,CACD,CAtBD,IAuBK,CACHA,KAAK,CAAC,oDAAD,CAAL,CACD,CACF,CA3BD,CA6BA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtB,GAAI/C,WAAW,GAAK,EAAhB,EAAsBR,KAAK,GAAK,EAAhC,EAAsCE,mBAAmB,GAAK,EAA9D,EAAoER,QAAQ,GAAK,EAArF,CAAyF,CACvF4D,KAAK,CAAC,sBAAD,CAAL,CACD,CAFD,IAEO,CACLjE,YAAY,CAAC,IAAD,CAAZ,CACA,GAAMmE,CAAAA,KAAK,CAAG1E,QAAQ,CAAC6C,SAAT,GAAqBC,UAArB,CAAgC,UAAhC,CAAd,CACA,GAAIV,CAAAA,KAAK,CAAGR,oBAAoB,CAAG,CAAnC,CACA8C,KAAK,CAACC,GAAN,CAAU,CACRpC,MAAM,CAAEb,WADA,CAGR6B,KAAK,CAAErC,KAHC,CAIRsC,mBAAmB,CAAEpC,mBAJb,CAKRqC,KAAK,CAAE,UALC,CAMRmB,KAAK,CAAExC,KANC,CAAV,EAOGY,IAPH,CAOQ,SAAC6B,GAAD,CAAS,CAEflE,aAAa,CAAC,IAAD,CAAb,CACAgB,cAAc,CAAC,EAAD,CAAd,CACAR,QAAQ,CAAC,EAAD,CAAR,CACAF,SAAS,CAAC,EAAD,CAAT,CACAQ,SAAS,CAAC,CAAD,CAAT,CACAJ,sBAAsB,CAAC,EAAD,CAAtB,CACAQ,wBAAwB,CAAC,CAAD,CAAxB,CACAtB,YAAY,CAAC,KAAD,CAAZ,CACAM,WAAW,CAAC,EAAD,CAAX,CAIAiE,UAAU,CAAC,UAAM,CAAEzE,UAAU,CAACgD,IAAX,CAAgB,YAAhB,EAAgC,CAAzC,CAA2C,IAA3C,CAAV,CACAyB,UAAU,CAAC,UAAM,CAAEnE,aAAa,CAAC,KAAD,CAAb,CAAuB,CAAhC,CAAkC,IAAlC,CAAV,CACD,CAvBD,EAwBG+C,KAxBH,CAwBS,SAACC,GAAD,CAAS,CACdnB,OAAO,CAACuC,KAAR,CAAc,eAAd,CAA+BpB,GAA/B,EACApD,YAAY,CAAC,KAAD,CAAZ,CACD,CA3BH,EA4BD,CACF,CApCD,CAsCA,MACE,OAAC,UAAD,EAAY,KAAK,CAAEmC,MAAM,CAACsC,SAA1B,WAEItE,UAAD,CACC,MAAC,IAAD,EAAM,KAAK,CAAEgC,MAAM,CAACuC,QAApB,WACE,KAAC,IAAD,EAAM,KAAK,CAAEvC,MAAM,CAACwC,aAApB,UACE,KAAC,SAAD,EAAW,IAAI,CAAC,QAAhB,CAAyB,IAAI,CAAE,EAA/B,CAAmC,KAAK,CAAE,CAAEC,UAAU,CAAE,EAAd,CAA1C,CAA8D,KAAK,CAAC,SAApE,EADF,EADF,CAIE,KAAC,IAAD,EAAM,KAAK,CAAEzC,MAAM,CAAC0C,SAApB,0CAJF,GADD,CAQC,kBAVJ,CAcItE,WAAW,EAAI,KAAhB,CACC,MAAC,IAAD,EAAM,KAAK,CAAE4B,MAAM,CAAC2C,aAApB,WACE,KAAC,IAAD,EAAM,KAAK,CAAE3C,MAAM,CAAC4C,QAApB,yBADF,CAEE,KAAC,MAAD,EACE,aAAa,CAAE9D,MADjB,CAEE,KAAK,CAAEkB,MAAM,CAAC6C,MAFhB,CAGE,aAAa,CAAE,uBAACC,SAAD,CAAYC,SAAZ,CAA0B,CACvChE,SAAS,CAAC+D,SAAD,CAAT,CACArD,WAAW,CAAC,IAAD,CAAX,CACD,CANH,UAQG3B,WAAW,CAACkF,GAAZ,CAAgB,SAACC,CAAD,CAAItD,CAAJ,CAAU,CACzB,MACE,MAAC,MAAD,CAAQ,IAAR,EAAqB,KAAK,CAAEsD,CAAC,CAACzF,KAA9B,CAAqC,KAAK,CAAEyF,CAAC,CAACxF,KAA9C,EAAkBkC,CAAlB,CADF,CAGD,CAJA,CARH,EAFF,GADD,CAmBC,MAAC,IAAD,EAAM,KAAK,CAAEK,MAAM,CAAC2C,aAApB,WAEE,KAAC,IAAD,EAAM,KAAK,CAAE3C,MAAM,CAAC4C,QAApB,yBAFF,CAGE,KAAC,MAAD,EACE,aAAa,CAAE9D,MADjB,CAEE,KAAK,CAAEkB,MAAM,CAAC6C,MAFhB,CAGE,aAAa,CAAE,uBAACC,SAAD,CAAYC,SAAZ,CAA0B,CACvChE,SAAS,CAAC+D,SAAD,CAAT,CACArD,WAAW,CAAC,IAAD,CAAX,CAED,CAPH,UASG3B,WAAW,CAACkF,GAAZ,CAAgB,SAACC,CAAD,CAAItD,CAAJ,CAAU,CACzB,MACE,MAAC,MAAD,CAAQ,IAAR,EAAqB,KAAK,CAAEsD,CAAC,CAACzF,KAA9B,CAAqC,KAAK,CAAEyF,CAAC,CAACxF,KAA9C,EAAkBkC,CAAlB,CADF,CAGD,CAJA,CATH,EAHF,GAjCJ,CAwDKL,aAAD,CACE,MAAC,IAAD,YAEE,KAAE,IAAF,EAAO,KAAK,CAAEU,MAAM,CAACkD,UAArB,UACE,MAAC,IAAD,YACE,KAAC,IAAD,EAAM,KAAK,CAAElD,MAAM,CAACxC,KAApB,qBADF,CAGE,KAAC,SAAD,EACE,KAAK,CAAEwC,MAAM,CAACmD,QADhB,CAEE,WAAW,CAAE,aAFf,CAGE,KAAK,CAAE7E,MAHT,CAIE,YAAY,CAAE,sBAAC8E,GAAD,QAAS7E,CAAAA,SAAS,CAAC6E,GAAD,CAAlB,EAJhB,EAHF,GADF,EAFF,CAiBE,KAAC,IAAD,EAAM,KAAK,CAAEpD,MAAM,CAACqD,kBAApB,UAEE,MAAC,gBAAD,EACE,KAAK,CAAErD,MAAM,CAACsD,gBADhB,CAEE,OAAO,CAAEzB,SAFX,WAIE,KAAC,IAAD,EAAM,KAAK,CAAE7B,MAAM,CAACwC,aAApB,UACE,KAAC,MAAD,EAAQ,IAAI,CAAC,aAAb,CAA2B,IAAI,CAAE,EAAjC,CAAqC,KAAK,CAAE,CAAEC,UAAU,CAAE,EAAd,CAA5C,CAAgE,KAAK,CAAC,SAAtE,EADF,EAJF,CAOE,KAAC,IAAD,EAAM,KAAK,CAAEzC,MAAM,CAACuD,cAApB,wBAPF,GAFF,EAjBF,GADF,CAkCE,KAAC,IAAD,EAAM,KAAK,CAAEvD,MAAM,CAACqD,kBAApB,UAEE,MAAC,gBAAD,EACE,KAAK,CAAErD,MAAM,CAACsD,gBADhB,CAEE,OAAO,CAAE,yBAAM/D,CAAAA,gBAAgB,CAAC,IAAD,CAAtB,EAFX,WAIE,KAAC,IAAD,EAAM,KAAK,CAAES,MAAM,CAACwC,aAApB,UACE,KAAC,SAAD,EAAW,IAAI,CAAC,aAAhB,CAA8B,IAAI,CAAE,EAApC,CAAwC,KAAK,CAAE,CAAEC,UAAU,CAAE,EAAd,CAA/C,CAAmE,KAAK,CAAC,SAAzE,EADF,EAJF,CAOE,KAAC,IAAD,EAAM,KAAK,CAAEzC,MAAM,CAACwD,eAApB,gCAPF,GAFF,EA1FN,CA6GE,MAAC,IAAD,EAAM,KAAK,CAAExD,MAAM,CAACkD,UAApB,WAEE,KAAC,IAAD,EAAM,KAAK,CAAElD,MAAM,CAACxC,KAApB,mBAFF,CAIE,KAAC,SAAD,EACE,KAAK,CAAEwC,MAAM,CAACmD,QADhB,CAEE,WAAW,CAAE,YAFf,CAGE,KAAK,CAAE3E,KAHT,CAIE,YAAY,CAAE,sBAAC4E,GAAD,QAAS3E,CAAAA,QAAQ,CAAC2E,GAAD,CAAjB,EAJhB,EAJF,GA7GF,CA2HE,MAAC,IAAD,EAAM,KAAK,CAAEpD,MAAM,CAACkD,UAApB,WAEE,KAAC,IAAD,EAAM,KAAK,CAAElD,MAAM,CAACxC,KAApB,iCAFF,CAIE,KAAC,SAAD,EACE,KAAK,CAAEwC,MAAM,CAACmD,QADhB,CAEE,WAAW,CAAE,mBAFf,CAGE,KAAK,CAAEzE,mBAHT,CAIE,YAAY,CAAE,sBAAC0E,GAAD,QAASzE,CAAAA,sBAAsB,CAACyE,GAAD,CAA/B,EAJhB,EAJF,GA3HF,CAyIE,MAAC,IAAD,EAAM,KAAK,CAAEpD,MAAM,CAACkD,UAApB,WACE,KAAC,IAAD,EAAM,KAAK,CAAElD,MAAM,CAACxC,KAApB,mBADF,CAEE,KAAC,gBAAD,EAAkB,KAAK,CAAEwC,MAAM,CAACmD,QAAhC,CAA0C,OAAO,CAAEjC,SAAnD,UACE,KAAC,IAAD,6CADF,EAFF,GAzIF,CAkJE,KAAC,WAAD,EAAa,KAAK,CAAE,CAAEuC,SAAS,CAAE,EAAb,CAAiBC,YAAY,CAAE,EAA/B,CAAmCC,YAAY,CAAE,EAAjD,CAAqDC,KAAK,CAAE,MAA5D,CAAoEC,MAAM,CAAE,EAA5E,CAApB,CAAsG,QAAQ,CAAE,GAAhH,CAAqH,KAAK,CAAC,SAA3H,EAlJF,CAoJE,KAAC,IAAD,EAAM,KAAK,CAAE7D,MAAM,CAAC8D,cAApB,UACI5F,QAAD,CAEG,KAAC,KAAD,EAAO,MAAM,CAAE,CAAE0D,GAAG,CAAE1D,QAAP,CAAf,CAAkC,KAAK,CAAE,CAAE0F,KAAK,CAAE,KAAT,CAAgBC,MAAM,CAAE,GAAxB,CAA6BF,YAAY,CAAE,EAA3C,CAAzC,EAFH,CAIG,KAAC,KAAD,EAAO,MAAM,CAAEvG,GAAf,CAAoB,KAAK,CAAE,CAAEwG,KAAK,CAAE,KAAT,CAAgBC,MAAM,CAAE,GAAxB,CAA6BF,YAAY,CAAE,EAA3C,CAA3B,EALN,EApJF,CA+JE,MAAC,IAAD,EAAM,KAAK,CAAE3D,MAAM,CAAC+D,sBAApB,WAEE,MAAC,gBAAD,EACE,KAAK,CAAE/D,MAAM,CAACsD,gBADhB,CAEE,OAAO,CAAEvB,SAFX,WAIE,KAAC,IAAD,EAAM,KAAK,CAAE/B,MAAM,CAACwC,aAApB,UACE,KAAC,MAAD,EAAQ,IAAI,CAAC,MAAb,CAAoB,IAAI,CAAE,EAA1B,CAA8B,KAAK,CAAE,CAAEC,UAAU,CAAE,EAAd,CAArC,CAAyD,KAAK,CAAC,SAA/D,EADF,EAJF,CAOE,KAAC,IAAD,EAAM,KAAK,CAAEzC,MAAM,CAACwD,eAApB,kBAPF,GAFF,CAcE,MAAC,gBAAD,EACE,KAAK,CAAExD,MAAM,CAACsD,gBADhB,CAEE,OAAO,CAAE,yBAAMxB,CAAAA,KAAK,CAAC,uBAAD,CAAX,EAFX,WAIE,KAAC,IAAD,EAAM,KAAK,CAAE9B,MAAM,CAACwC,aAApB,UACE,KAAC,SAAD,EAAW,IAAI,CAAC,QAAhB,CAAyB,IAAI,CAAE,EAA/B,CAAmC,KAAK,CAAE,CAAEC,UAAU,CAAE,EAAd,CAA1C,CAA8D,KAAK,CAAC,SAApE,EADF,EAJF,CAOE,KAAC,IAAD,EAAM,KAAK,CAAEzC,MAAM,CAACgE,iBAApB,oBAPF,GAdF,GA/JF,GADF,CA6LD,CAED,GAAMhE,CAAAA,MAAM,CAAGiE,UAAU,CAACC,MAAX,CAAkB,CAC/BJ,cAAc,CAAE,CACdK,UAAU,CAAE,QADE,CADe,CAK/B5B,QAAQ,CAAE,CACR6B,WAAW,CAAE,GADL,CAERC,WAAW,CAAE,SAFL,CAGRC,eAAe,CAAE,SAHT,CAIRC,aAAa,CAAE,KAJP,CAKRC,IAAI,CAAE,CALE,CAMRL,UAAU,CAAE,QANJ,CAORM,QAAQ,CAAE,UAPF,CAQRZ,MAAM,CAAE,EARA,CASRD,KAAK,CAAE,KATC,CAURc,MAAM,CAAE,CAVA,CAWRC,WAAW,CAAE,wBAXL,CAYRC,YAAY,CAAE,6BAZN,CAaRjB,YAAY,CAAE,IAbN,CAcRkB,IAAI,CAAE,IAdE,CAeRC,GAAG,CAAE,EAfG,CALqB,CAwB/BtC,aAAa,CAAE,CACboB,KAAK,CAAE,KADM,CAGbO,UAAU,CAAE,QAHC,CAxBgB,CA6B/Bb,gBAAgB,CAAE,CAChBG,SAAS,CAAE,EADK,CAEhBY,WAAW,CAAE,qBAFG,CAGhBU,cAAc,CAAE,YAHA,CAIhBX,WAAW,CAAE,CAJG,CAKhBP,MAAM,CAAE,EALQ,CAMhBD,KAAK,CAAE,MANS,CAOhBU,eAAe,CAAE,2BAPD,CAQhBX,YAAY,CAAE,CARE,CAShBa,IAAI,CAAE,CATU,CAUhBD,aAAa,CAAE,KAVC,CA7Ba,CAyC/B7B,SAAS,CAAE,CACTsC,QAAQ,CAAE,EADD,CAETC,KAAK,CAAE,SAFE,CAGTrB,KAAK,CAAE,KAHE,CAKTO,UAAU,CAAE,MALH,CAMTe,SAAS,CAAE,MANF,CAOTzC,UAAU,CAAE,EAPH,CAQToC,IAAI,CAAE,EARG,CAzCoB,CAmD/Bb,iBAAiB,CAAE,CACjBgB,QAAQ,CAAE,EADO,CAEjBC,KAAK,CAAE,SAFU,CAGjBrB,KAAK,CAAE,KAHU,CAKjBO,UAAU,CAAE,QALK,CAMjBe,SAAS,CAAE,QANM,CAOjBzC,UAAU,CAAE,EAPK,CAnDY,CA4D/Be,eAAe,CAAE,CACfwB,QAAQ,CAAE,EADK,CAEfC,KAAK,CAAE,SAFQ,CAGfrB,KAAK,CAAE,KAHQ,CAKfO,UAAU,CAAE,QALG,CAMfe,SAAS,CAAE,QANI,CAOfzC,UAAU,CAAE,EAPG,CA5Dc,CAqE/Bc,cAAc,CAAE,CACdyB,QAAQ,CAAE,EADI,CAEdC,KAAK,CAAE,SAFO,CAGdrB,KAAK,CAAE,KAHO,CAKdO,UAAU,CAAE,QALE,CAMde,SAAS,CAAE,QANG,CAOdzC,UAAU,CAAE,EAPE,CArEe,CA8E/BY,kBAAkB,CAAE,CAClBI,SAAS,CAAE,CAAC,EADM,CAElBC,YAAY,CAAE,EAFI,CA9EW,CAkF/BK,sBAAsB,CAAE,CACtBoB,UAAU,CAAE,CADU,CAlFO,CAqF/B7C,SAAS,CAAE,CACT8C,OAAO,CAAE,EADA,CAETd,eAAe,CAAE,SAFR,CArFoB,CAyF/BnB,QAAQ,CAAE,CACR6B,QAAQ,CAAE,EADF,CAERC,KAAK,CAAE,sBAFC,CAGRE,UAAU,CAAE,CAHJ,CAzFqB,CA8F/BvC,QAAQ,CAAE,CACRoC,QAAQ,CAAE,EADF,CAERC,KAAK,CAAE,SAFC,CA9FqB,CAkG/BzH,KAAK,CAAE,CACLwH,QAAQ,CAAE,EADL,CAELC,KAAK,CAAE,sBAFF,CAlGwB,CAsG/BpC,MAAM,CAAE,CACNe,KAAK,CAAE,MADD,CAENqB,KAAK,CAAE,OAFD,CAGNP,MAAM,CAAE,IAHF,CAINjB,SAAS,CAAE,CAJL,CAKN4B,iBAAiB,CAAE,CALb,CAMNC,iBAAiB,CAAE,SANb,CAONhB,eAAe,CAAE,SAPX,CAtGuB,CA+G/BiB,SAAS,CAAE,CACTP,QAAQ,CAAE,EADD,CAETC,KAAK,CAAE,qBAFE,CA/GoB,CAmH/B/B,UAAU,CAAE,CACVsB,IAAI,CAAE,CADI,CAEVX,MAAM,CAAE,EAFE,CAGVuB,OAAO,CAAE,EAHC,CAIV1B,YAAY,CAAE,EAJJ,CAKV2B,iBAAiB,CAAE,CALT,CAMVC,iBAAiB,CAAE,SANT,CAOVhB,eAAe,CAAE,SAPP,CAnHmB,CA4H/B3B,aAAa,CAAE,CAIbkB,MAAM,CAAE,EAJK,CAKbuB,OAAO,CAAE,EALI,CAMb3B,SAAS,CAAE,EANE,CAObC,YAAY,CAAE,EAPD,CAQb2B,iBAAiB,CAAE,CARN,CASbC,iBAAiB,CAAE,SATN,CAUbhB,eAAe,CAAE,SAVJ,CAWbI,MAAM,CAAE,CAXK,CA5HgB,CAyI/BzE,SAAS,CAAE,CACT4E,IAAI,CAAE,CADG,CAETW,KAAK,CAAE,CAFE,CAGTV,GAAG,CAAE,CAHI,CAITW,MAAM,CAAE,CAJC,CAKThB,QAAQ,CAAE,UALD,CAMTN,UAAU,CAAE,QANH,CAOTY,cAAc,CAAE,QAPP,CAzIoB,CAkJ/BW,MAAM,CAAE,CACNvB,UAAU,CAAE,QADN,CAENc,KAAK,CAAE,SAFD,CAGNX,eAAe,CAAE,SAHX,CAINc,OAAO,CAAE,EAJH,CAKNhB,WAAW,CAAE,CALP,CAMNC,WAAW,CAAE,SANP,CAlJuB,CA0J/BsB,WAAW,CAAE,CACXP,OAAO,CAAE,EADE,CA1JkB,CAAlB,CAAf,CA+JA,cAAe1H,CAAAA,aAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  TouchableOpacity,\r\n  Text,\r\n  StyleSheet,\r\n  TextInput,\r\n  ScrollView,\r\n  ActivityIndicator,\r\n  View,\r\n  Button,\r\n  Image,\r\n  Platform\r\n} from 'react-native';\r\n//Importing the icon family\r\nimport { Entypo } from '@expo/vector-icons';\r\nimport { AntDesign } from '@expo/vector-icons';\r\n\r\nimport { ProgressBar, Colors } from 'react-native-paper';\r\n\r\n// Importing the react native drop down picker\r\nimport { Picker } from 'react-native'\r\n\r\n//Importing Device API to check the device type to render different content for android and ios\r\nimport * as Device from 'expo-device';\r\n\r\nimport alt from \"../assets/alter.png\";\r\n\r\n//Importing Image Picker \r\nimport * as ImagePicker from 'expo-image-picker';\r\n\r\nimport \"firebase/storage\";\r\n\r\nimport firebase from '../database/firebaseDb';\r\n\r\nlet picker_Items = [\r\n  {\r\n    label: \"Company 1\",\r\n    value: 1\r\n  },\r\n  {\r\n    label: \"Company 2\",\r\n    value: 2\r\n  },\r\n  {\r\n    label: \"Company 3\",\r\n    value: 3\r\n  },\r\n  {\r\n    label: \"Company 4\",\r\n    value: 4\r\n  },\r\n  {\r\n    label: \"Company 5\",\r\n    value: 5\r\n  },\r\n  {\r\n    label: \"Company 6\",\r\n    value: 6\r\n  },\r\n  {\r\n    label: \"Company 7\",\r\n    value: 7\r\n  },\r\n  {\r\n    label: \"Company 8\",\r\n    value: 8\r\n  },\r\n  {\r\n    label: \"Company 9\",\r\n    value: 9\r\n  },\r\n  {\r\n    label: \"Company 10\",\r\n    value: 10\r\n  }\r\n]\r\n\r\nfunction AddUserScreen({ navigation }) {\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const [pickerItems, setPickerItems] = useState(picker_Items);\r\n\r\n  const [visibility, setVisibility] = useState(false);\r\n\r\n  const [imageUri, setImageUri] = useState(null);\r\n\r\n\r\n  const device_name = Device.osName;\r\n\r\n  const [agency, setAgency] = useState('');\r\n  const [brand, setBrand] = useState('');\r\n  const [representative_name, setRepresentative_name] = useState('');\r\n  const [image, setImage] = useState('')\r\n\r\n  const [picked, setPicked] = useState(1);\r\n  const [pickedValue, setPickedValue] = useState('');\r\n\r\n  const [selected_brand_count, set_selected_brand_count] = useState(0);\r\n\r\n  //For storing retrieved data\r\n  const [firestoreData, setFirestoreData] = useState([]);\r\n\r\n  //Show Agency Add\r\n  const [showAgencyAdd, setShowAgencyAdd] = useState(false);\r\n  const [addCount, setAddCount] = useState(false);\r\n\r\n  useEffect(() => {\r\n\r\n    if (pickedValue != '') {\r\n      //For counting the number of times this Company has been choosen its count\r\n      let count = 0;\r\n      for (let i = 0; i < firestoreData.length; i++) {\r\n        if (firestoreData[i].Agency == pickedValue) {\r\n          count = count + 1;\r\n        }\r\n      }\r\n\r\n      //console.log(`The slected agency '${pickedValue}' had appeared \"${count}\" number of times previously`);\r\n      console.log(`The slected agency '${pickedValue}' had appeared \"${count}\" number of times previously`);\r\n      // if (addCount) {\r\n      console.log(\"----------?\" + count)\r\n      set_selected_brand_count(count);\r\n      // setAddCount(false);\r\n      //}\r\n      // setAddCount(false);\r\n      //For counting the number of times this Company has been choosen its count\r\n    }\r\n\r\n    if (isLoading) {\r\n      return (\r\n        <View style={styles.preloader}>\r\n          <ActivityIndicator size=\"large\" color=\"#9E9E9E\" />\r\n        </View>\r\n      )\r\n    }\r\n    for (let i = 0; i < pickerItems.length; i++) {\r\n      if (pickerItems[i].value == picked) {\r\n        //console.log(\"The Picked item label is ==> \", pickerItems[i].label);\r\n        setPickedValue(pickerItems[i].label);\r\n      }\r\n    }\r\n    // console.log(\"Agency name is : \", agency);\r\n    // console.log(\"Picker Items is ==> \", pickerItems);\r\n\r\n    // console.log(\"Data from firestore equals ==> \", firestoreData);\r\n\r\n    //Retrieving the data from firestore for purpose of counter \r\n    if (true) {\r\n      const db = firebase.firestore();\r\n      db.collection(`agencies`)\r\n        .get()\r\n        .then(snapshot => {\r\n          let data = [];\r\n          snapshot.forEach(element => {\r\n            data.push(Object.assign({\r\n              id: element.id,\r\n              \"Agency\": element.Agency,\r\n              \"Brand\": element.Brand,\r\n              \"Representative_name\": element.Representative_name,\r\n              \"Image\": element.Image,\r\n            }, element.data()))\r\n          })\r\n          // console.log(\"data=> \", data)\r\n\r\n          if (firestoreData.length != data.length) {\r\n            setFirestoreData(data);\r\n            // console.log(\"Updated\")\r\n          }\r\n        }).catch(err => {\r\n          console.log(\"Firebase data error ==> \", err)\r\n        })\r\n    }\r\n    //\r\n\r\n  })\r\n\r\n  const pickImage = async () => {\r\n    // No permissions request is necessary for launching the image library\r\n    let result = await ImagePicker.launchImageLibraryAsync({\r\n      mediaTypes: ImagePicker.MediaTypeOptions.All,\r\n      allowsEditing: true,\r\n      aspect: [4, 3],\r\n      quality: 1,\r\n    });\r\n\r\n    console.log(\"Result of Image ==> \", result);\r\n\r\n    //For Uploading Images to Cloud Storage\r\n    // Create a root reference\r\n    // var storageRef = firebase.storage().ref();\r\n    // const storageRef = ref(storage, 'some-child');\r\n\r\n    if (!result.cancelled) {\r\n      setImageUri(result.uri);\r\n      // Data URL string\r\n      // const message4 = result.uri;\r\n      // uploadString(storageRef, message4, 'data_url').then((snapshot) => {\r\n      //   console.log('Uploaded a data_url string!',snapshot);\r\n      // });\r\n      // 'file' comes from the Blob or File API\r\n      // storageRef.put(file).then((snapshot) => {\r\n      //   console.log('Uploaded a blob or file!');\r\n      // });\r\n\r\n    }\r\n  };\r\n\r\n  const addAgency = () => {\r\n    if (agency != '') {\r\n      let length = pickerItems.length;\r\n      //console.log(\"Length is \", length, agency);\r\n      // let temp_picker_items = pickerItems;\r\n      // temp_picker_items.push({\r\n      //   label: agency,\r\n      //   value: length\r\n      // })\r\n\r\n      //console.log(\"--===================> \",temp_picker_items)\r\n\r\n      setPickerItems(\r\n        [\r\n          ...pickerItems,\r\n          {\r\n            label: agency,\r\n            value: length + 1\r\n          }\r\n        ]\r\n      );\r\n      setShowAgencyAdd(false);\r\n      alert(\"Agency Added\");\r\n    }\r\n    else {\r\n      alert(\"Please enter an agency name to add it to the list.\");\r\n    }\r\n  }\r\n\r\n  const storeUser = () => {\r\n    if (pickedValue === '' || brand === '' || representative_name === '' || imageUri === '') {\r\n      alert('Fill all the fields!');\r\n    } else {\r\n      setIsLoading(true);\r\n      const dbRef = firebase.firestore().collection('agencies');\r\n      let count = selected_brand_count + 1;\r\n      dbRef.add({\r\n        Agency: pickedValue,\r\n        // Agency: agency,\r\n        Brand: brand,\r\n        Representative_name: representative_name,\r\n        Image: \"imageUri\",\r\n        Count: count\r\n      }).then((res) => {\r\n        // setAgency('');\r\n        setVisibility(true);\r\n        setPickedValue('');\r\n        setBrand('');\r\n        setAgency('');\r\n        setPicked(1);\r\n        setRepresentative_name('');\r\n        set_selected_brand_count(0);\r\n        setIsLoading(false);\r\n        setImageUri('');\r\n        //alert(\"You should now navigate to the listing screen because you've added the item\")\r\n        //props.navigation.navigate('UserScreen')\r\n        //navigate('UserScreen')\r\n        setTimeout(() => { navigation.push('UserScreen'); }, 2000);\r\n        setTimeout(() => { setVisibility(false); }, 4000);\r\n      })\r\n        .catch((err) => {\r\n          console.error(\"Error found: \", err);\r\n          setIsLoading(false);\r\n        });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <ScrollView style={styles.container}>\r\n\r\n      {(visibility) ? (\r\n        <View style={styles.snackBar}>\r\n          <View style={styles.IconContainer}>\r\n            <AntDesign name=\"delete\" size={23} style={{ lineHeight: 40 }} color=\"#ffffff\" />\r\n          </View>\r\n          <Text style={styles.snack_txt}>Agency was added to the list</Text>\r\n        </View>\r\n      ) : (\r\n        <></>\r\n      )}\r\n\r\n      {/* Choose Agency Container */}\r\n      {(device_name == \"iOS\") ? (\r\n        <View style={styles.inputGroupTop}>\r\n          <Text style={styles.labelTop}>Agency name</Text>\r\n          <Picker\r\n            selectedValue={picked}\r\n            style={styles.picker}\r\n            onValueChange={(itemValue, itemIndex) => {\r\n              setPicked(itemValue)\r\n              setAddCount(true)\r\n            }\r\n            }>\r\n            {pickerItems.map((v, i) => {\r\n              return (\r\n                <Picker.Item key={i} label={v.label} value={v.value} />\r\n              )\r\n            })}\r\n          </Picker>\r\n        </View>\r\n      ) : (\r\n        <View style={styles.inputGroupTop}>\r\n\r\n          <Text style={styles.labelTop}>Agency name</Text>\r\n          <Picker\r\n            selectedValue={picked}\r\n            style={styles.picker}\r\n            onValueChange={(itemValue, itemIndex) => {\r\n              setPicked(itemValue)\r\n              setAddCount(true)\r\n              // console.log(\" ): \", itemIndex)\r\n            }\r\n            }>\r\n            {pickerItems.map((v, i) => {\r\n              return (\r\n                <Picker.Item key={i} label={v.label} value={v.value} />\r\n              )\r\n            })}\r\n          </Picker>\r\n        </View>\r\n      )}\r\n      {/* Choose Agency Container */}\r\n\r\n      {\r\n        (showAgencyAdd) ? (\r\n          <View>\r\n            {/* Agency Name Container */}\r\n            < View style={styles.inputGroup}>\r\n              <View>\r\n                <Text style={styles.label}>Add New</Text>\r\n\r\n                <TextInput\r\n                  style={styles.inputtxt}\r\n                  placeholder={'Agency name'}\r\n                  value={agency}\r\n                  onChangeText={(val) => setAgency(val)}\r\n                />\r\n              </View>\r\n            </View>\r\n            {/* Agency Name Container */}\r\n\r\n            {/* ---------------------------Add Button Container--------------------------- */}\r\n            <View style={styles.add_main_container}>\r\n              {/* Add Button Container */}\r\n              <TouchableOpacity\r\n                style={styles.container_button}\r\n                onPress={addAgency}\r\n              >\r\n                <View style={styles.IconContainer}>\r\n                  <Entypo name=\"add-to-list\" size={23} style={{ lineHeight: 40 }} color=\"#60AD7F\" />\r\n                </View>\r\n                <Text style={styles.add_button_txt}>Add Agency</Text>\r\n              </TouchableOpacity>\r\n              {/* Add Button Container */}\r\n            </View>\r\n            {/* ---------------------------Add Button Container--------------------------- */}\r\n          </View>\r\n        ) : (\r\n          <View style={styles.add_main_container}>\r\n            {/* Add Button Container */}\r\n            <TouchableOpacity\r\n              style={styles.container_button}\r\n              onPress={() => setShowAgencyAdd(true)}\r\n            >\r\n              <View style={styles.IconContainer}>\r\n                <AntDesign name=\"pluscircleo\" size={23} style={{ lineHeight: 40 }} color=\"#60AD7F\" />\r\n              </View>\r\n              <Text style={styles.save_button_txt}>Add Agency in List</Text>\r\n            </TouchableOpacity>\r\n            {/* Add Button Container */}\r\n          </View>\r\n        )\r\n      }\r\n\r\n\r\n\r\n      {/* Brand Name Container */}\r\n      <View style={styles.inputGroup}>\r\n\r\n        <Text style={styles.label}>Brand</Text>\r\n\r\n        <TextInput\r\n          style={styles.inputtxt}\r\n          placeholder={'Brand name'}\r\n          value={brand}\r\n          onChangeText={(val) => setBrand(val)}\r\n        />\r\n      </View>\r\n      {/* Brand Name Container */}\r\n\r\n      {/* Representative Name Container */}\r\n      <View style={styles.inputGroup}>\r\n\r\n        <Text style={styles.label}>Repersentative Name</Text>\r\n\r\n        <TextInput\r\n          style={styles.inputtxt}\r\n          placeholder={'First & last name'}\r\n          value={representative_name}\r\n          onChangeText={(val) => setRepresentative_name(val)}\r\n        />\r\n      </View>\r\n      {/* Representative Name Container */}\r\n\r\n      {/* Image Container */}\r\n      <View style={styles.inputGroup}>\r\n        <Text style={styles.label}>Image</Text>\r\n        <TouchableOpacity style={styles.inputtxt} onPress={pickImage}>\r\n          <Text>Pick an image from camera roll</Text>\r\n        </TouchableOpacity>\r\n\r\n      </View>\r\n      {/* Image Container */}\r\n\r\n      <ProgressBar style={{ marginTop: 10, marginBottom: 20, borderRadius: 10, width: \"100%\", height: 15 }} progress={0.5} color=\"#7db597\" />\r\n\r\n      <View style={styles.ImageContainer}>\r\n        {(imageUri) ?\r\n          (\r\n            <Image source={{ uri: imageUri }} style={{ width: \"40%\", height: 300, borderRadius: 10 }} />\r\n          ) : (\r\n            <Image source={alt} style={{ width: \"40%\", height: 300, borderRadius: 10 }} />\r\n          )\r\n        }\r\n      </View>\r\n\r\n      {/* ---------------------------Main Button Container--------------------------- */}\r\n      <View style={styles.buttons_main_container}>\r\n        {/* Save Button Container */}\r\n        <TouchableOpacity\r\n          style={styles.container_button}\r\n          onPress={storeUser}\r\n        >\r\n          <View style={styles.IconContainer}>\r\n            <Entypo name=\"save\" size={23} style={{ lineHeight: 40 }} color=\"#60AD7F\" />\r\n          </View>\r\n          <Text style={styles.save_button_txt}>SAVE</Text>\r\n        </TouchableOpacity>\r\n        {/* Save Button Container */}\r\n\r\n        {/* Delete Button Container */}\r\n        <TouchableOpacity\r\n          style={styles.container_button}\r\n          onPress={() => alert('Delete Button Pressed')}\r\n        >\r\n          <View style={styles.IconContainer}>\r\n            <AntDesign name=\"delete\" size={23} style={{ lineHeight: 40 }} color=\"#000000\" />\r\n          </View>\r\n          <Text style={styles.delete_button_txt}>DELETE</Text>\r\n        </TouchableOpacity>\r\n        {/* Delete Button Container */}\r\n      </View>\r\n      {/* ---------------------------Main Button Container--------------------------- */}\r\n\r\n    </ScrollView >\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  ImageContainer: {\r\n    alignItems: \"center\"\r\n\r\n  },\r\n  snackBar: {\r\n    borderWidth: 0.5,\r\n    borderColor: \"#60AD7F\",\r\n    backgroundColor: \"#60AD7F\",\r\n    flexDirection: \"row\",\r\n    flex: 1,\r\n    alignItems: \"center\",\r\n    position: \"absolute\",\r\n    height: 54,\r\n    width: \"90%\",\r\n    zIndex: 2,\r\n    shadowColor: \"rgba(32, 32, 32, 0.08)\",\r\n    shadowRadius: \"0px 9.75px 9.75px -7.3125px\",\r\n    borderRadius: 3.25,\r\n    left: \"5%\",\r\n    top: 75,\r\n    // box-shadow: 0px 9.75px 9.75px -7.3125px rgba(32, 32, 32, 0.08);\r\n    // border-radius: 3.25px;\r\n  },\r\n  IconContainer: {\r\n    width: \"10%\",\r\n    //borderWidth: 1,\r\n    alignItems: \"center\"\r\n  },\r\n  container_button: {\r\n    marginTop: 20,\r\n    borderColor: \"rgba(0, 0, 0, 0.12)\",\r\n    justifyContent: \"flex-start\",\r\n    borderWidth: 1,\r\n    height: 50,\r\n    width: \"100%\",\r\n    backgroundColor: \"rgba(255, 255, 255, 0.87)\",\r\n    borderRadius: 4,\r\n    flex: 1,\r\n    flexDirection: \"row\"\r\n  },\r\n  snack_txt: {\r\n    fontSize: 14,\r\n    color: \"#ffffff\",\r\n    width: \"90%\",\r\n    // borderWidth:1,\r\n    alignItems: \"left\",\r\n    textAlign: \"left\",\r\n    lineHeight: 40,\r\n    left: 37\r\n  },\r\n  delete_button_txt: {\r\n    fontSize: 14,\r\n    color: \"#000000\",\r\n    width: \"90%\",\r\n    //borderWidth:1,\r\n    alignItems: \"center\",\r\n    textAlign: \"center\",\r\n    lineHeight: 40\r\n  },\r\n  save_button_txt: {\r\n    fontSize: 14,\r\n    color: \"#60AD7F\",\r\n    width: \"90%\",\r\n    //borderWidth:1,\r\n    alignItems: \"center\",\r\n    textAlign: \"center\",\r\n    lineHeight: 40\r\n  },\r\n  add_button_txt: {\r\n    fontSize: 16,\r\n    color: \"#60AD7F\",\r\n    width: \"90%\",\r\n    //borderWidth:1,\r\n    alignItems: \"center\",\r\n    textAlign: \"center\",\r\n    lineHeight: 40\r\n  },\r\n  add_main_container: {\r\n    marginTop: -25,\r\n    marginBottom: 10\r\n  },\r\n  buttons_main_container: {\r\n    paddingTop: 0\r\n  },\r\n  container: {\r\n    padding: 10,\r\n    backgroundColor: '#ffffff'\r\n  },\r\n  inputtxt: {\r\n    fontSize: 16,\r\n    color: \"rgba(0, 0, 0, 0.87);\",\r\n    paddingTop: 0\r\n  },\r\n  labelTop: {\r\n    fontSize: 12,\r\n    color: \"#60AD7F\"\r\n  },\r\n  label: {\r\n    fontSize: 12,\r\n    color: \"rgba(0, 0, 0, 0.38);\"\r\n  },\r\n  picker: {\r\n    width: \"100%\",\r\n    color: \"black\",\r\n    zIndex: 1000,\r\n    marginTop: 4,\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#65a984',\r\n    backgroundColor: '#ededed',\r\n  },\r\n  label_txt: {\r\n    fontSize: 16,\r\n    color: \"rgba(0, 0, 0, 0.87)\"\r\n  },\r\n  inputGroup: {\r\n    flex: 1,\r\n    height: 56,\r\n    padding: 10,\r\n    marginBottom: 15,\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#65a984',\r\n    backgroundColor: '#ededed',\r\n  },\r\n  inputGroupTop: {\r\n    // flex: 1,\r\n    // flexDirection: 'row',\r\n    // justifyContent: \"space-between\",\r\n    height: 60,\r\n    padding: 10,\r\n    marginTop: 30,\r\n    marginBottom: 15,\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#65a984',\r\n    backgroundColor: '#ededed',\r\n    zIndex: 1\r\n  },\r\n  preloader: {\r\n    left: 0,\r\n    right: 0,\r\n    top: 0,\r\n    bottom: 0,\r\n    position: 'absolute',\r\n    alignItems: 'center',\r\n    justifyContent: 'center'\r\n  },\r\n  button: {\r\n    alignItems: 'center',\r\n    color: '#6fa686',\r\n    backgroundColor: '#ffffff',\r\n    padding: 10,\r\n    borderWidth: 1,\r\n    borderColor: '#e9e9e9',\r\n  },\r\n  buttonInner: {\r\n    padding: 10,\r\n  },\r\n})\r\n\r\nexport default AddUserScreen;\r\n"]},"metadata":{},"sourceType":"module"}